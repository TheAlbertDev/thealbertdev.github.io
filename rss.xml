<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[TheAlbert.Dev]]></title><description><![CDATA[Página web personal de Albert Álvarez Carulls]]></description><link>https://thealbert.dev</link><generator>GatsbyJS</generator><lastBuildDate>Fri, 17 Dec 2021 21:07:38 GMT</lastBuildDate><item><title><![CDATA[Comunicación de un módulo ESP32 con Ubidots mediante MQTT]]></title><description><![CDATA[El módulo ESP32 de Espressif Systems (empresa con origen en Shangai) es un módulo basado en un MCU (microcontroller unit) de 32 bits que…]]></description><link>https://thealbert.dev/blog/esp32-wifi-ubidots/</link><guid isPermaLink="false">https://thealbert.dev/blog/esp32-wifi-ubidots/</guid><pubDate>Fri, 17 Dec 2021 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;El módulo ESP32 de &lt;a href=&quot;https://www.espressif.com&quot;&gt;Espressif Systems&lt;/a&gt; (empresa con origen en Shangai) es un módulo basado en un MCU (&lt;em&gt;microcontroller unit&lt;/em&gt;) de 32 bits que incluye un periférico de comunicación inalámbrica para la frecuencia de 2.4 GHz que habilita conectividad con redes Wi-Fi y Bluetooth. Los ESP32 DevKits son pequeñas placas de evaluación con módulos ESP32. El bajo precio de estas placas de evaluación (por debajo de los 10 €) y la posibilidad de programar los ESP32 con Arduino han hecho que la curva de dificultad para desarrollar aplicaciones IoT (&lt;em&gt;internet of thing&lt;/em&gt;) sea mucho más suave y accesible haciendo que este módulo sea muy popular entre &lt;em&gt;makers&lt;/em&gt; o para profesionales en fases de prototipaje. En la Figura 1 podemos ver una fotografía de una de estas placas de desarrollo y que se utilizará a lo largo de este documento.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 400px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/a9000fffb5da6a1ae644958bf39bd27b/066f9/modulo-esp32.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 76.58227848101265%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAQFAgP/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAABrynOkNmiv//EABsQAAICAwEAAAAAAAAAAAAAAAEDAAIEEBIh/9oACAEBAAEFAmtC4WtFq+h+P3E4/Gv/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAeEAABBAEFAAAAAAAAAAAAAAABAAIRElEQITJBgf/aAAgBAQAGPwLJwrW86QMQiW8ipdu7T//EABwQAQACAwADAAAAAAAAAAAAAAEAESExURBhof/aAAgBAQABPyEatuorfLvb1EqWJrkMj6ZqERavnj//2gAMAwEAAgADAAAAEOfP/8QAFREBAQAAAAAAAAAAAAAAAAAAECH/2gAIAQMBAT8Qh//EABYRAAMAAAAAAAAAAAAAAAAAAAEQEf/aAAgBAgEBPxA1f//EAB8QAQABAwQDAAAAAAAAAAAAAAEAESFRMUFhcRDB0f/aAAgBAQABPxAssPbvwl6zdoOBnnWLyAVtekMFWGq907QphAFuUe+fH//Z&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Placa de evaluación basada en un ESP32.&quot;
        title=&quot;Placa de evaluación basada en un ESP32.&quot;
        src=&quot;/static/a9000fffb5da6a1ae644958bf39bd27b/066f9/modulo-esp32.jpg&quot;
        srcset=&quot;/static/a9000fffb5da6a1ae644958bf39bd27b/ff44c/modulo-esp32.jpg 158w,
/static/a9000fffb5da6a1ae644958bf39bd27b/a6688/modulo-esp32.jpg 315w,
/static/a9000fffb5da6a1ae644958bf39bd27b/066f9/modulo-esp32.jpg 400w&quot;
        sizes=&quot;(max-width: 400px) 100vw, 400px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Utilizaremos la placa de evaluación de la imagen para hacer una aplicación muy sencilla que permita controlar un actuador (en este caso un LED) desde una plataforma web llamada Ubidots a la vez que en esta misma plataforma visualizaremos los datos (en este caso la temperatura interna del módulo ESP32) recogidos por la placa de evaluación. Esto nos permitirá aprender cómo conectar el MCU a una red Wi-Fi y realizar una comunicación bidireccional con un servicio en la nube mediante el protocolo MQTT (ampliamente utilizado en el mundo IoT).&lt;/p&gt;
&lt;h2&gt;Objetivos&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Conectar un módulo ESP32 a una red Wi-Fi.&lt;/li&gt;
&lt;li&gt;Publicar/suscribirse a &lt;em&gt;topics&lt;/em&gt; mediante MQTT.&lt;/li&gt;
&lt;li&gt;Controlar actuadores en un módulo ESP32 desde una plataforma en la nube.&lt;/li&gt;
&lt;li&gt;Visualizar datos en una plataforma en la nube enviados por un módulo ESP32.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Procedimiento&lt;/h2&gt;
&lt;p&gt;Para realizar el siguiente procedimiento necesitaremos:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Una red Wi-Fi con acceso a internet a la que conectarnos.&lt;/li&gt;
&lt;li&gt;Arduino IDE.&lt;/li&gt;
&lt;li&gt;1 x Placa de evaluación ESP32.&lt;/li&gt;
&lt;li&gt;1 x Cable USB (si es tipo USB Micro B o USB C dependerá del modelo de placa que utilicemos).&lt;/li&gt;
&lt;li&gt;Una cuenta gratuita en Ubidots.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Instalación de la placa de evaluación en Arduino IDE&lt;/h3&gt;
&lt;p&gt;Lo primero que necesitamos es instalar nuestra placa de evaluación en Arduino IDE para poderla programar. Para ello, abrimos Arduino IDE y vamos a &lt;code class=&quot;language-text&quot;&gt;Archivo &gt; Preferencias&lt;/code&gt; y en el campo de texto “Gestor de URLs Adicionales de Tarjetas” ingresamos la siguiente dirección:&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://raw.githubusercontent.com/espressif/arduino-esp32/gh-pages/package_esp32_index.json&quot;&gt;https://raw.githubusercontent.com/espressif/arduino-esp32/gh-pages/package_esp32_index.json&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/efb0b4c414fd1ea31879b30b631a9acb/da952/preferencias-arduino-ide.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 71.51898734177216%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAACxUlEQVQ4y52SS2/TQBDHDeXIBaUfh0tPfAOIQIg7kEqhaiohceRYiQ8CvSBxqUIOREnTSiGtH+tkHT/id+zYjlMpaWvvoNmmRRWIAyv9NLs7mv/M7ozw/nl1Qz7qPiGK8kJV1WeEkKokSVVZlquKovB9q9WqdjqdKvrw/gb0y7L8VFGUl6enp48BQBAatdqjMVEs27ZhMpkAWt/3wXXdW3Rdh8FgwP2e593xIUEQAKX0h4Crtr29STVtiEGapl2ZplkGQVCmaVrmec45Pz/ndj6fc/J8Xi7yvFwsFmWSJJez2QxM0/wuCMJ9oV6vVwghI1VVYTQala7rMsdxWDQNWRAELI5jtlwu2Wq1YsvVil1drNg0v2CjyZTZlsl0XS+GwyEW0+KCOzs7FVmWKQpqmlZalgVxHIHlxzCZ2DCdRjCLI3Ac5/aJ+Ow4nkEcxzCbzYosy8AwjGvB3d3diqwoFIWiKCrTLIM0TUCzQyCEgOs6oFgxSJLEz2gNw4A0TSFJEi6I+9+Cjb2KLImUjkYYUN4ETAMfNEqBOhFYtsOD8zyH+XwOWBH+25q7gnvvtiuSSqkkK5i9PDs744LYuTAMwQwySJMEXMcB/Bb8L+w2JvhrhR/rrypd1acDkcDgZ7/s9/t3nrXIEojTHJSxDaJ4BrIsw3g85uOFSbMsK+ZZBqa5Fnz75nWFajrVxmOsoCSEMMMwGHY7DEPm+z5zPY/Zjss8z+PgFNi2zRzXZb7vFX4YAaH6tWCj0aiIoqhiZkmSLiVJKhBRFAtCSGEYRmGZZuG5bhEEQeF5Hsf3fY7neRfhNIKRpje5YK1W2zQMw8VRwNG4GQ+0eIdNwGb8i8ViAbY9OeKCW1tbD9vt9qeTk5OvvV7vS6/XO0COj4+57Xa7B51O5w/wvt1uo/18eHj4rdlsfhAE4Z6wXrjZ+E8erK2wv78v/AKq4lDM667sngAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Formulario de preferencias de Arduino IDE.&quot;
        title=&quot;Formulario de preferencias de Arduino IDE.&quot;
        src=&quot;/static/efb0b4c414fd1ea31879b30b631a9acb/f058b/preferencias-arduino-ide.png&quot;
        srcset=&quot;/static/efb0b4c414fd1ea31879b30b631a9acb/c26ae/preferencias-arduino-ide.png 158w,
/static/efb0b4c414fd1ea31879b30b631a9acb/6bdcf/preferencias-arduino-ide.png 315w,
/static/efb0b4c414fd1ea31879b30b631a9acb/f058b/preferencias-arduino-ide.png 630w,
/static/efb0b4c414fd1ea31879b30b631a9acb/40601/preferencias-arduino-ide.png 945w,
/static/efb0b4c414fd1ea31879b30b631a9acb/78612/preferencias-arduino-ide.png 1260w,
/static/efb0b4c414fd1ea31879b30b631a9acb/da952/preferencias-arduino-ide.png 1872w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Clicamos en “Ok” para guardar la configuración y cerrar el formulario. A continuación, nos vamos a &lt;code class=&quot;language-text&quot;&gt;Herramientas &gt; Placa &gt; Gestor de tarjetas...&lt;/code&gt;. Escribimos “esp32” en el campo de búsqueda e instalamos la única opción que nos debería de aparecer.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/1310eaa31e156d7ef665f7509c0484b8/ab40b/gestor-tarjetas-arduino-ide.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 59.49367088607595%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAABzElEQVQoz52Oy27TQBSGvWPFjkcAhVdACrwLIoPUN8hTZJNNFs5rsELKAuLekOLEqe3Envjuur7GjWPX9jAHORdRqrJIj/TpHx3p++cwGOM3QRB8ieMYRVHUCYIAJUmCkvUaxUmCNE1DHMeh8XiMFEXZ7cMwRGEUPaYTRtGZZVlvmel0+sm2bAj8ADabDRRFAXEcQ3B3B9ssgzRNIYoiiMIQ0vV6t8ueoXENwzhj5jc37fH1Vf3z+pL8Eub1TJYJL8vkUsVEsmyiuS5ZOQ5ZuS7BjkNU235KrVhWad7egqqqHWahSO0Rx9Nvo3MYXV3Q7xxHf0wmlBNFeiGKdLJcUsk0qfgfJMtqstZcF1YYI2Yq8O350qDzhQbyClPFMEGxbRAxBknXYa5pIJsmSM+wsG1Y6jpd6DoxPA+wqiJmNhPa6eaeZvkW7rOMZnkO+cMDbItin4f3U7Jj5nnjkMZTm0JBENpVVVHYzzFPmcYhpK7/FpZluSui+4ET2RVWVfVP4e/DT8c8hcap60cXfizLEg4XvohGPRR+ZXie/+B5Xu77fuH7/jFPwvO8zHEcUBTlM9Ptdl+xLPuOZdnWSxgOh63BYNDq9/vve73e6z/L3UfEnkFw9AAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Gestor de tarjetas mostrando la tarjeta a instalar.&quot;
        title=&quot;Gestor de tarjetas mostrando la tarjeta a instalar.&quot;
        src=&quot;/static/1310eaa31e156d7ef665f7509c0484b8/f058b/gestor-tarjetas-arduino-ide.png&quot;
        srcset=&quot;/static/1310eaa31e156d7ef665f7509c0484b8/c26ae/gestor-tarjetas-arduino-ide.png 158w,
/static/1310eaa31e156d7ef665f7509c0484b8/6bdcf/gestor-tarjetas-arduino-ide.png 315w,
/static/1310eaa31e156d7ef665f7509c0484b8/f058b/gestor-tarjetas-arduino-ide.png 630w,
/static/1310eaa31e156d7ef665f7509c0484b8/40601/gestor-tarjetas-arduino-ide.png 945w,
/static/1310eaa31e156d7ef665f7509c0484b8/78612/gestor-tarjetas-arduino-ide.png 1260w,
/static/1310eaa31e156d7ef665f7509c0484b8/ab40b/gestor-tarjetas-arduino-ide.png 1736w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Una vez instalada, podremos seleccionar nuestra placa en &lt;code class=&quot;language-text&quot;&gt;Herramientas &gt; Placa &gt; ESP32 Arduino &gt; ESP32 Dev Module&lt;/code&gt;. Por último, con la placa ya conectada a nuestro ordenador con el cable USB, seleccionamos su puerto de comunicación en &lt;code class=&quot;language-text&quot;&gt;Herramientas &gt; Puerto&lt;/code&gt;.&lt;/p&gt;
&lt;h3&gt;Conectar el módulo ESP32 a una red Wi-Fi&lt;/h3&gt;
&lt;p&gt;Con la placa ya instalada y configurada, vamos a proceder a conectarnos a nuestra red Wi-Fi para después poder comunicarnos con la nube. Para ello, primeramente nos hemos de descargar la librería “esp32-mqtt”. Esta librería en realidad sirve para realizar la comunicación con Ubidots mediante MQTT, pero también contiene la librería “WiFi”. De este modo, podemos conectarnos a una red Wi-Fi con esta librería y ya la tenemos instalada para después implementar la comunicación MQTT.&lt;/p&gt;
&lt;p&gt;Para instalar la librería, nos la descargamos de este &lt;a href=&quot;https://github.com/ubidots/esp32-mqtt/archive/main.zip&quot;&gt;enlace&lt;/a&gt; que podemos encontrar en su repositorio:&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/ubidots/esp32-mqtt&quot;&gt;https://github.com/ubidots/esp32-mqtt&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Una vez descargado el archivo &lt;code class=&quot;language-text&quot;&gt;.zip&lt;/code&gt;, vamos a Arduino IDE y clicamos en &lt;code class=&quot;language-text&quot;&gt;Programa &gt; Incluir Librería &gt; Añadir biblioteca .ZIP...&lt;/code&gt;. Seleccionamos el archivo &lt;code class=&quot;language-text&quot;&gt;.zip&lt;/code&gt; que acabamos de descargar. Una vez seleccionada, volvemos al menú &lt;code class=&quot;language-text&quot;&gt;Programa &gt; Incluir Librería&lt;/code&gt;, pero esta vez seleccionamos “Ubidots MQTT for ESP32”.&lt;/p&gt;
&lt;p&gt;Esta librería depende de otra llamada “pubsubclient” para gestionar el protocolo MQTT. La podemos descargar de este &lt;a href=&quot;https://github.com/knolleary/pubsubclient/archive/master.zip&quot;&gt;enlace&lt;/a&gt; o bien desde su repositorio en GitHub:&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/knolleary/pubsubclient&quot;&gt;https://github.com/knolleary/pubsubclient&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Instalamos el &lt;code class=&quot;language-text&quot;&gt;.zip&lt;/code&gt; decargado tal y como hemos hecho con la libería anterior (pero esta vez no hace falta añadirla al código, puesto que la librería “esp32-mqtt” ya la incorpora).&lt;/p&gt;
&lt;p&gt;Con esto ya hemos añadido todas las librerías que necesitaremos para realizar el resto de tareas.&lt;/p&gt;
&lt;p&gt;Ahora vamos a conectarnos a la red Wi-Fi. Para ello, utilizaremos el siguiente código:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;cpp&quot;&gt;&lt;pre class=&quot;language-cpp&quot;&gt;&lt;code class=&quot;language-cpp&quot;&gt;&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;lt;UbiConstants.h&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;lt;UbiTypes.h&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;lt;UbidotsEsp32Mqtt.h&gt;&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;WIFI_SSID &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;SSID of your Wi-Fi&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;WIFI_PASSWORD &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Password of your Wi-Fi&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;UBIDOTS_TOKEN &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Your Ubidots token&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

Ubidots &lt;span class=&quot;token function&quot;&gt;ubidots&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;UBIDOTS_TOKEN&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setup&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

  Serial&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;begin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;115200&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  Serial&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  Serial&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Device initialization...&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  ubidots&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;connectToWifi&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;WIFI_SSID&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; WIFI_PASSWORD&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;loop&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Lo primero que hemos hecho ha sido inicializar la comunicación serie para poder mostrar información a través del terminal/monitor serie. La hemos inicializado con un &lt;em&gt;baud rate&lt;/em&gt; de 115200 bps. Seguidamente, nos conectamos a la red Wi-Fi configurada. La Wi-Fi la indicamos con las constantes &lt;code class=&quot;language-text&quot;&gt;WIFI_SSID&lt;/code&gt; y &lt;code class=&quot;language-text&quot;&gt;WIFI_PASSWORD&lt;/code&gt; de las líneas 5 y 6, respectivamente. Sustituye su valor con el SSID y la contraseña de la red Wi-Fi a la que quieras conectarte. De momento nos olvidamos de modificar la constante &lt;code class=&quot;language-text&quot;&gt;UBIDOTS_TOKEN&lt;/code&gt;. Compila el código y cárgalo en el MCU.&lt;/p&gt;
&lt;p&gt;Abrimos el monitor serie en &lt;code class=&quot;language-text&quot;&gt;Herramientas &gt; Monitor Serie&lt;/code&gt; y un &lt;em&gt;baud rate&lt;/em&gt; de 115200 bps. Si todo ha funcionado correctamente, podremos ver en el terminal que el dispositivo se ha conectado a la red Wi-Fi con éxito.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/8c823be104f46d6aaacb43aadb7b998e/098d4/monitor-serie-wifi.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 51.26582278481012%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABi0lEQVQoz6WTy0rDQBSGx4X3hT6DW8UH8w1cGQRfoa+Q0rrswq2VEiWTNImRpEwuKrEUkqZtmsZO0s6RiaWUWkHwh4/hDGc+mMMMQghtEfX+4sU1bl79tyvHcQRCSInruoJhGEKr1RKazaagaZrg+77Ae9a4JoRcNhqNY4QQ2u0G7x/9OIIoimA0GsF4PIYkScqV13EclwwGg7IeDodLeN3v9yEIAqjX62dcuGfZtu15Hpjmc97tdmdhGJb0er1ZkiQzSumMBwA2UQAAK4piJIrit/DxUSK6roNpmvMoiliWZWwymSxJ05RNp1PGD27IHACAUppWq9VvoaZpRFEUcBxnnqYp/BbG2HJd4afQsizCrxyG4Xyt+S/8FHqea/PBUkpzPhfG2K/AgpW9YiFMRFE85cL9LPsM4J/J8xxqtdp5+WzuHvAtlmVDVVVZkiTM0XUddzodbFkWtm0b64aBVUXGLcXEsmFjVX7CsvaCJZ3Imqq01Xb7vlKpnKCjg+0thNAOQujwn+zxT/IFu6pr03LQCF4AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Monitor serie de Arduino IDE mostrando que nos hemos conectado a la red Wi-Fi con éxito.&quot;
        title=&quot;Monitor serie de Arduino IDE mostrando que nos hemos conectado a la red Wi-Fi con éxito.&quot;
        src=&quot;/static/8c823be104f46d6aaacb43aadb7b998e/f058b/monitor-serie-wifi.png&quot;
        srcset=&quot;/static/8c823be104f46d6aaacb43aadb7b998e/c26ae/monitor-serie-wifi.png 158w,
/static/8c823be104f46d6aaacb43aadb7b998e/6bdcf/monitor-serie-wifi.png 315w,
/static/8c823be104f46d6aaacb43aadb7b998e/f058b/monitor-serie-wifi.png 630w,
/static/8c823be104f46d6aaacb43aadb7b998e/40601/monitor-serie-wifi.png 945w,
/static/8c823be104f46d6aaacb43aadb7b998e/78612/monitor-serie-wifi.png 1260w,
/static/8c823be104f46d6aaacb43aadb7b998e/098d4/monitor-serie-wifi.png 2142w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h3&gt;Crearse una cuenta en Ubidots&lt;/h3&gt;
&lt;p&gt;Ahora vamos a comunicarnos con Ubidots, pero primero debemos crearnos una cuenta gratuita. Vamos a su &lt;a href=&quot;https://ubidots.com&quot;&gt;página web&lt;/a&gt; y nos registramos. Una vez registrados, ingresamos con nuestro usuario y contraseña e iremos a la página principal donde aparecerán nuestros &lt;em&gt;dashboards&lt;/em&gt;. Puesto que no tenemos ninguno todavía, nos aparece un botón “Add new Dashboard”. Lo clicamos. Se nos abrirá un menú lateral donde indicaremos el nombre de nuestro &lt;em&gt;dashboard&lt;/em&gt; y dejaremos el resto de los valores que vienen por defecto.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/6ae8a186bb01e2d67db7079f31724acf/19bb3/creando-un-dashboard.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 68.35443037974683%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAADBklEQVQ4y6WQ309TZxjHX40X+CPT6IzoEpkt6KQS+TVbOkrdmZm7kBGRGtFdqLsg8DcsJIXb6YV/AQ2xzHJayiH8mKana7MZuVJjIyaURARJcKU92tMzz6/na/rKFnXhwvgknzzP+3yf5/u+eVldbUOF4G1u83q//s7ddEJoamwSfF8dFfwOh+A9WCW0HXIIp10u4XuXS2g95BB8Dqfgr6nh2jdVXwp+Z7XgdzrL+VRLVdVOtq/S2dDm8Rhenw9uz0k0N3rQ8EMH6s9dgutMF46fvQDPxatoufQzr493dqOx6yfUnumCqz2A+s6LqD/bTQ2d3TjcdupHxjbt8lTXCWZzawcafR3UcuI0bb82TCz5hNj0fWIzD6ji9kPal3hEe+UMVSYztF/O0OdyhmvrMxabuY/Nv/x6nu3Y43QfOOw3vjjyLfZW++3K/c2083qYts4+pW2JDFUkH1P13Xmqm12gmrvzVHsvS8dmF/h5d+oJ17f9MWdtlR9jx+CNALt85ap7KDRsjvwWQXjkFoVCw3g0vwDFJuR1k/NCN7H62uD5uaphUXmFZ69U5HSjrFNeN62CbmDoViTAent73WOxmDk1NYmpyUmKx8ewsrQEEAGWiQ/D1nX8UywChgGA8HYQVvni8ah4nvX09LhHR0dNSZIgSRKJoojFxUUYpomiqqJUKvE1mwhEBMuyoBsGLNvmPZuILNu2/i6qiEWjbw1FUTQnJia4YTQa5YblRdM0ObRuVsYwDJ75a227XHPDFVXD2EaGy8vL2CjKhpqm8bwe/HOymg4pFvu/YSwWw9zcHFZXV5HP56EoynsUCgWsra29q5GiKNZKbg2h0FDg3z98LUmSPT4+boqiaGWzWUvTNKtYLFqqqr5HqVT6j3f6hvKygPDNcID19fV54/E4pqenOeU6l8vhY0KBhqGlOxgWR7pZe3v7kWAwODMwMPDn4OBgqr+/Px2JRNKpVCqdSCTSsixvSEJOpJNyMj1z5/dUeEr8KzgQbGWMsc2Msc8YY3s+kV2MsS1vAM258yTGk7hEAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Menú de creación de un dashboard en Ubidots.&quot;
        title=&quot;Menú de creación de un dashboard en Ubidots.&quot;
        src=&quot;/static/6ae8a186bb01e2d67db7079f31724acf/f058b/creando-un-dashboard.png&quot;
        srcset=&quot;/static/6ae8a186bb01e2d67db7079f31724acf/c26ae/creando-un-dashboard.png 158w,
/static/6ae8a186bb01e2d67db7079f31724acf/6bdcf/creando-un-dashboard.png 315w,
/static/6ae8a186bb01e2d67db7079f31724acf/f058b/creando-un-dashboard.png 630w,
/static/6ae8a186bb01e2d67db7079f31724acf/40601/creando-un-dashboard.png 945w,
/static/6ae8a186bb01e2d67db7079f31724acf/78612/creando-un-dashboard.png 1260w,
/static/6ae8a186bb01e2d67db7079f31724acf/19bb3/creando-un-dashboard.png 2066w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Una vez creado el &lt;em&gt;dashboard&lt;/em&gt;, este se nos abrirá y nos aparecerá el botón “Add new Widget” con el que crear nuestros controles e indicadores.&lt;/p&gt;
&lt;h3&gt;Controlar un LED desde Ubidots&lt;/h3&gt;
&lt;h4&gt;Configuración de Ubidots&lt;/h4&gt;
&lt;p&gt;Vamos a empezar con algo sencillo: encender/apagar un LED desde Ubidots. Para ello, primeramente, vamos a añadir nuestro dispositivo a Ubidots. Nos vamos a la sección “Devices” de Ubidots y ahí clicamos el botón “Create Device”. Se nos despliega un menú lateral donde escogeremos “Blank Device”. Seguidamente, le damos un nombre.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/e2675753d7409f0cc09281dbf3db1d9e/19bb3/menu-crear-dispositivo.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 68.35443037974683%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAADeUlEQVQ4y6VRbWxTVRg+EhPdWBBFAzGR6TpQ2Rz7km6FfeSyiCZoHa6EuQQT/kz209/+WVxjNGqMP3USk40Zem/Xcbu57nu70RgjyjSBVkIQuk5Yoeva3t7Pc9/HtNUE9adv8pzn5Dnv+5yT57AXDjQ8LHia2z2eF4+6mw4JTY1NQttzzwsdVVWCZ2+l0PZMlfBSTY3wSm1tUet0uYSj+/YLh/dWCocrnxY6XdVCh8sldLiqu1orKx9hu/e4GtpbWixPWxvcLZ1obmxBw8teHHyjDzXHe3Cw+xRa+87A3XcGta+fQl13L+p7+nDgeA9qX/Wh/sSbqO/upYYTvdjf3vUaYw/sbKmuE+zmI140tnmp9dAx2v7xKLGlGLHpy8Qiq8S++ZkemlmlivlfqXyuBDbzS+ms1MNZ5DK2vfvRSVaxy+V+cl+75ao7hqdqupzde5poxydjVPbDTSpfvEJlS1EqX47SoysxelyJ0WNKjJ5QYlSxHKXtf6F8OcrLlq6i4r3PfOz06bfcXwyfs0dGz2Nk9DwND5/DpWvXcc3giGbz+E3VcTWn40pOx428UcSPWwXdwGpWw0+ZPCV0i6dNC19dCPjY2bNvu8fHg/bU1CSmJidpIhTCrfgtZHQdaVVF3uYwHILuOCAiFMq5j52SyAFCKBg8yfr7+92iKNqyLEOWZQpKEq7H17DJCSnDREI3oVo2NgwLOi/MEchxSlxCYeGcOxAlqWQoSZIdDoeLhpIkIZ5IYAvAPdMuDv+umUXeMi3cNSzYnCNjWrA4L1xGlzZV/kfewOR48J+G4XCYgsEgbsTXoBom0nkNJudI59SiSV7TkEqlwB0HmUwGmqrCtG1K3NngGVVFKDT+3xcGRBHriTWsmxy3NQNwHGwaJjjnSOkm1lQdtm0jaVjFGOA4dE83uWFZGJck398ZGrIsO6FQyB4bG+Pr8Ti/o5s8qeY52TbfyOa4ZZr8rqrxm+ksN22bJ9IZnszmOByHZzTNsiwLoij62MDAgGdiYgKRSKSIwudsJJO4v3SH8O8qZJg0zOL+tsWhETB18WIv83q9zw4NDUX8fv+3fr9/ZXBwULkQCCiBuQVFjMwqy4sLyqfytDIzv6DMzi8owdl55fulReWdgKz4RoLK9Ny80vz51ysfhiPfffnB+0cYY2wbY2wHY2zX/8ROxtiDfwLWgu5MU5gNxQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Menú desplegable en el que seleccionar el tipo de dispositivo a crear. Seleccionamos &amp;quot;Blank Device&amp;quot;.&quot;
        title=&quot;Menú desplegable en el que seleccionar el tipo de dispositivo a crear. Seleccionamos &amp;quot;Blank Device&amp;quot;.&quot;
        src=&quot;/static/e2675753d7409f0cc09281dbf3db1d9e/f058b/menu-crear-dispositivo.png&quot;
        srcset=&quot;/static/e2675753d7409f0cc09281dbf3db1d9e/c26ae/menu-crear-dispositivo.png 158w,
/static/e2675753d7409f0cc09281dbf3db1d9e/6bdcf/menu-crear-dispositivo.png 315w,
/static/e2675753d7409f0cc09281dbf3db1d9e/f058b/menu-crear-dispositivo.png 630w,
/static/e2675753d7409f0cc09281dbf3db1d9e/40601/menu-crear-dispositivo.png 945w,
/static/e2675753d7409f0cc09281dbf3db1d9e/78612/menu-crear-dispositivo.png 1260w,
/static/e2675753d7409f0cc09281dbf3db1d9e/19bb3/menu-crear-dispositivo.png 2066w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/12f6c701e536ff723552223bf942fbd7/19bb3/nombre-dispositivo.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 68.35443037974683%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAACpklEQVQ4y6WR30tTcRTAv0lQzpGSgRLkyqtWbtnmzM3pplwlC6ylOdEGBr6Y/g29rNSn6qHXrCh/UffOjTvNO2zOjXroJX8Q6kOMpgaBuUCI2r33e07czQQpyujAhwPnHD58z/mSM6Wmg6ytwmGznau3mCtZc7mZtZ86zdYWFrK2Ah1rP1HIntfr2YsGQ6pWxzBsfXEJW12gY6t1x9k6poitZRi2lilqqNLpsklePmNyWK2SzW5Hi7UOK8qtaLrgRONVN+qbWvFscztWubvQ4u5Cw5V2LGvuQGOrG0ubWtFwyYXGlmtobO4AU0sHljgaLhOyL8daVMbKFTVOLLc7oaqyEbLuDgMJrwCZmgMizgN58RYOBOdB+3IRMqcXQTO9CCS4kO6JqRmFiHOYcfNOG9HmMpajxQ6JKWvEY/oGmpdvhux7o5D15gNoQu9AM7sMmbPLcDi6AkeiKztZq9bDS6m+ZnZZyQwvofb2fRfp7LxueTD4SB4aHsGh4REYHHyIC+9j+IkiJpISJiQ5xefkbja36wlJhoSkKJtJCZ88e+4iPT03LOPjXnlycgInJybA7/Phx7U1VGQZkVLcQwAiKgiAPq+3jXR3d1s4jpMFQUBBEMDr9WIsFsOtrS2UZBkpAFIK6fw7KAAFUBRFQY7j0kKe5+VAILAjjMfjKKsySvcCwLaQ5/ndwkAgkBKur6+ndwHYC6mVVfkvQvWFHMftCOk/3RBVoevnDb8LgkB9Pp88NjamrK6uKuqQGpTSv6JQKn2TkshzvIv09vba/H4/iqKYQv2cjY0N/Jf4Al/xcTyIT7mRDuJ0Ok/29fWJ/f39rwYGBiIejyfKcVw0EolEQ6FQdGZm5o+Ew+GoOB2MjE7xrz23PDWEEJJBCDlECMn9T3IIIft/AGiR90O/GOmTAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Menú desplegable en el que poner nombre al dispositivo a crear.&quot;
        title=&quot;Menú desplegable en el que poner nombre al dispositivo a crear.&quot;
        src=&quot;/static/12f6c701e536ff723552223bf942fbd7/f058b/nombre-dispositivo.png&quot;
        srcset=&quot;/static/12f6c701e536ff723552223bf942fbd7/c26ae/nombre-dispositivo.png 158w,
/static/12f6c701e536ff723552223bf942fbd7/6bdcf/nombre-dispositivo.png 315w,
/static/12f6c701e536ff723552223bf942fbd7/f058b/nombre-dispositivo.png 630w,
/static/12f6c701e536ff723552223bf942fbd7/40601/nombre-dispositivo.png 945w,
/static/12f6c701e536ff723552223bf942fbd7/78612/nombre-dispositivo.png 1260w,
/static/12f6c701e536ff723552223bf942fbd7/19bb3/nombre-dispositivo.png 2066w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Una vez creado, el nuevo dispositivo aparece listado entre nuestros dispositivos disponibles. Ahora crearemos una variable llamada “LED” que utilizaremos para enviar el estado deseado para el LED de la placa ESP32. Cada vez que modifiquemos el valor de esta variable, se enviará un mensaje con su valor. Desde el MCU leeremos este nuevo valor de la variable y la aplicaremos a nuestro LED.&lt;/p&gt;
&lt;p&gt;Para crear la variable, entramos en nuestro recién creado dispositivo y clicamos en el botón “Add Variable”. Seleccionamos que sea del tipo “Raw” y la nombramos “LED”. Si entramos a la recién creada variable, veremos su “API Label” que necesitaremos durante la programación del MCU para suscribirnos a ella. Si no la modificamos, esa “API Label” es “led”.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/3ee2b5471719c0c6f98b2e14cfb0d68b/19bb3/panel-variable-led.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 68.35443037974683%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAACsElEQVQ4y6WR20sUURzHD9KDdNNYsCtmi2WFu44745zZq7uTmRJZIKtuCEFv0YMEWX/BQhCkkpHdnpJC9EUNLymTLtpT71FPIZqXtXV3dWfmzOX8YsZCIpEuP84HvufH9/eF3znIfZbJD2MmhHnmHMd4RKbcJfp4Xgx6BRGzrOjHvFgTDovnI2HRj7EYELAY8vlEgWNFbxUn+jBv+wKCUIM5tgAdPFRaGQkEtVBEBL+/BgQhDFxVCFguBBWMFzxsEALBWgiELtja6vM4DO4KL7gZr60Fr0g5vhpOn2EaEEJFAhe5pl9svg310Vv0SutdWuy6TPcdq6YHSkSbwuMRm5+6oHhTW57jrkvU5WsxDpfVwd4iVxNyFFfhUk+jxoZbwe1vMUsqGqizspE6uRgt8bRQvvYGrY2207rmO9Rbf9PuObmr1MnGNj2s7TNOcDE4crI6iu5dP4W/Pjmqr78ogPRzB0335MPqawzLS4uwsLgCS8tJSGc3ILeRg7lUFj4vJiH1LQ2pdBbW1rLwcTlF51bTxpfkGvS+7I2i+7F8vNLj0Dee7YbM0z00+zgPMq/KQcmlgRACqiIDIaqNaqGqoBEVNI3YqIRQohHD6vf19TWhjng7Xvkk6bm5GZDn31NlfhZyCx9ss1WU0l+A3+8UKBimacLAwEATevioB6cysm5Yw/YBsLSu69sGboM1sxXY0fEAr2czP6ZNCmCCrpF/D+zq6sKpVEpXFAUURaHWu1lhfxNIt1aOos7OTpxMJlVZlk1CiK5pmkEIsQGgfwhopmFAf39/FHV3d/usH9quDAogqwYoxNwRmZi2f3hoKIba2trKxsfHxyRJmpEkaVqSpMTExERicnIyMTr2NjE4PJIYejO6I4PDI9PvpqZm4/F4ACGE8hBC+xFCjv+kECG06zsTKe/FC0DRIAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Panel de la variable LED.&quot;
        title=&quot;Panel de la variable LED.&quot;
        src=&quot;/static/3ee2b5471719c0c6f98b2e14cfb0d68b/f058b/panel-variable-led.png&quot;
        srcset=&quot;/static/3ee2b5471719c0c6f98b2e14cfb0d68b/c26ae/panel-variable-led.png 158w,
/static/3ee2b5471719c0c6f98b2e14cfb0d68b/6bdcf/panel-variable-led.png 315w,
/static/3ee2b5471719c0c6f98b2e14cfb0d68b/f058b/panel-variable-led.png 630w,
/static/3ee2b5471719c0c6f98b2e14cfb0d68b/40601/panel-variable-led.png 945w,
/static/3ee2b5471719c0c6f98b2e14cfb0d68b/78612/panel-variable-led.png 1260w,
/static/3ee2b5471719c0c6f98b2e14cfb0d68b/19bb3/panel-variable-led.png 2066w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Ahora ya solo nos falta añadir esta variable a nuestro &lt;em&gt;dashboard&lt;/em&gt; para poder cambiar su valor desde la interfaz web. En el &lt;em&gt;dashboard&lt;/em&gt; que acabamos de crear añadimos un &lt;em&gt;widget&lt;/em&gt;. Este &lt;em&gt;widget&lt;/em&gt; es el de tipo &lt;em&gt;Switch&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/0bf696060bfadc23c82f7375455baa71/19bb3/menu-crear-widget.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 68.35443037974683%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAADeElEQVQ4y6VR309bZRj+WAwy2XROExcvVkfL1AECY1tLtwI5W8SFKTKBDKsJNuGfIJJeyKVe6J1kF1u7Bk4pJCQ6GG0tPbrEK0Gigy1OOAy2sbim9Nc534/zPaan7krvfJMn7/O975snz/t+pOlEa43iPdXh9Z4+7247o7SdbFN8b72tdNbVKd6jDsV3rE55t6FBudjYaNe6nE7lfP1x5exRh3LW8YbS5XQpnU6n0ul0XWh3OF4irx1xtnZ4PMzr88Ht6cKpkx60vteL5o/8aLjUj+a+K2j3B+DxB9D04RW80zeEln4/TlzqR+P7A2i5/DFa+oZk6+UhHO+48AEhVYc8riaFnz7XizZfr2w/0y1rv7ohSWpdkvllSRZWJLn5i6y+tSJr46vyhfiqPBBflVW3fq30KhBVC8vY9/mXg+Tgqy736/UdzNXcjWPN3Zar3icPfz0lq3/elPuTv8vapTVZs7QuD2vr8mVtXR5Mr8sjP96V+5fWZHXqjt1/fmlN1KTu4MAX3wwQ/yefur+duMqvXQ/j2vWwnJi4it/+uI+tooHtQglPigY2M1nsFkvQ80UsP8ngKWXYyBVwP5tHlnF5L7MntvNFRKLTAyQQ+MwdidzgsVgMsdi0jEQi2HmwBTuEACwLeUoBq8IpY4CUEEKAcY7yI0+ZEJxjbmZmkAwPD7tDoRBXVRWqqspQKIQtXccuLwsxcCGwnC2gxDhKXGCrZALSwmODQi+WuZQruZJ4ajJ891+C4XAYuq7DEhzUNMEYAy8W7Vx2xakJS0pQSsEoLXPbbnk+GosNkkAg8C+HD3QdWQB5xsGEwGPKIS0LBS7w0GT26ruUY8fktsO7BVNkTIbvZ2cqguFwmEejUUSj0YrDzU1wxmCahr1yrlAA5xzlO1HDALMs7BkmsoYJbkmZMwxhUIbZmZmBZw5NVVWtKVXloVBI/LmxIbZNLv4qmcISQuxRJqQQIkuZuJcvCViW2CmZQi8aNpeWxcrnmJ6eHiAjIyPeyclJzM7O2pianMTDR4+QAVCq/DX2KLMzlcCuYdo8xzgy/9Sfxdzc3BDp6el5c2xsbCEYDP4UDAbTo6Ojmjo1pd1OL2mpREJLlLG4qMUTCS2ZSGipeFxLJJPa4sK8tjh/U/shldKSyWQ6nU7fHh8fP0cIIfsIIS8SQl75nzhECHnubz337feTAAQtAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Menú desplegable para seleccionar el tipo de widget a crear.&quot;
        title=&quot;Menú desplegable para seleccionar el tipo de widget a crear.&quot;
        src=&quot;/static/0bf696060bfadc23c82f7375455baa71/f058b/menu-crear-widget.png&quot;
        srcset=&quot;/static/0bf696060bfadc23c82f7375455baa71/c26ae/menu-crear-widget.png 158w,
/static/0bf696060bfadc23c82f7375455baa71/6bdcf/menu-crear-widget.png 315w,
/static/0bf696060bfadc23c82f7375455baa71/f058b/menu-crear-widget.png 630w,
/static/0bf696060bfadc23c82f7375455baa71/40601/menu-crear-widget.png 945w,
/static/0bf696060bfadc23c82f7375455baa71/78612/menu-crear-widget.png 1260w,
/static/0bf696060bfadc23c82f7375455baa71/19bb3/menu-crear-widget.png 2066w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Añadimos la variable que acabamos de crear y le damos al &lt;em&gt;widget&lt;/em&gt; el nombre “LED”.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/cea421ae5fbb35aad66ca49b823fcc69/19bb3/variable-del-widget-led.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 68.35443037974683%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAAC1klEQVQ4y6WP20sUcRTHf0lJEOQtK1yji65uy+rujjP7m52bM7ObQUUQeFnLIOitvyCoQH0MBUV77L2gpyAwDM3pRnkBzQthKuy6G16zB8uc354TO5a9pAgd+MCBz+HL9xBPWeBgRKaaooQjomqavKKbVNFNUdbMqpBkUkk19UiNqUfOm1TSHCTVcBxPZTMsV5thQTQlQYzyAS6HFLtKg5oobIZlEWkFh3y5F6mfwzAnIF8RQBrgUZdUNGTN2cNBAWWeYpUv4HiRC2FIVCEkaej1+S+T/KMu8XRZpe32clh46zbk322HvHvtkNfSCbktnZDf0gkFzR0OmT2nuRNymzscn9faBYV37kNJ5CJzyya6fMF6cqToJD3jrtgs8XKY/agvTUa+AHkzC+TtHOx7Owd5H+LgGk7A8aEEFAzGIevdnOOcm/dxONA7BiWXaplHNrDYz9eRU6XlVAhJtiBVI3n4FEjvBJJnIw7ZvWN4rH8CD734iAV94+h6OYEHe8e2PekZRfLkFUhXYiwaOY+VPK0jJW4PDYmKHVZ0bLUGoWN+Fdumk9idWMGu+PI23f/YH6TWsG18Bi7UxphhRDFQFaonbreHClS2ZVXH1OdpwMxAGvc69tpXaIhdY9XGOeQFWk9KfwcqqoGD45PweHkdE+sbyNJp/MF25rvN0EbE1NIK1DZcZZoeRc5pWPY3cHRyCp6vruPKxs+tors0A9iySyurUB9rYrpxDqsyDTOBISrbkqLjxOSUcwWMOQ3Tu2Az5gSurX5zAjWzBnlBrPvTcENS9PTM7GzmC7ZXBtY+sv74MLvRdHNTNaJ/As9KNKyirJloWa9xcXERE4l5TCZTOzKfTOJCagH7Pn3A50MWxhqvI69rmZcbSZHrRLnX5+/x+vyv/UF+IMDxFhVlS1I0S5J3RpRVK1pdYxlqxOIEOhAU6Bt3mUchhJAsQshhQkjBf5JLCNn/C34Mei0GG0deAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Variable con la que operará el widget.&quot;
        title=&quot;Variable con la que operará el widget.&quot;
        src=&quot;/static/cea421ae5fbb35aad66ca49b823fcc69/f058b/variable-del-widget-led.png&quot;
        srcset=&quot;/static/cea421ae5fbb35aad66ca49b823fcc69/c26ae/variable-del-widget-led.png 158w,
/static/cea421ae5fbb35aad66ca49b823fcc69/6bdcf/variable-del-widget-led.png 315w,
/static/cea421ae5fbb35aad66ca49b823fcc69/f058b/variable-del-widget-led.png 630w,
/static/cea421ae5fbb35aad66ca49b823fcc69/40601/variable-del-widget-led.png 945w,
/static/cea421ae5fbb35aad66ca49b823fcc69/78612/variable-del-widget-led.png 1260w,
/static/cea421ae5fbb35aad66ca49b823fcc69/19bb3/variable-del-widget-led.png 2066w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/cf250ca3b2b8ad1f8d67f65989b9812c/19bb3/menu-crear-widget-led.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 68.35443037974683%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAAC7klEQVQ4y6WP70tTYRTHn6QgJ6VkUPSilZv2w9+u2lxN6xYssDKriaaBLfwnJBn5uiB6V0nmvVvzzunLtESXo6DeZGk6wUirN/5gd1edc/fe554T945JVgTRFz58z/M9z3M4Dyk5Wr6dsR+rstuPn7VaTjCWCgvjOHyEqc7LY+z7jYzjYB7jLCxknIVFenbaZGLO5BfovZPGA0y1ycxUm0yan6s0GrPJnr2m8iqbTbY7HGi1ncZjFTYsP1+LZVebsPDCNSyta8DKJjfam25hyeUGLK5rxIprzXqv6KILy65cx7K6Rii/0ogFVecuEbIlx2YuZpTjp2rR4qiFyhNOyLrnBRKaBjIwBmTwQ8qfv4dtLz+CYWg8laVJ3aFkcAwzbt+tJzt2m6378qtkc6kTD5Y6VXO+A3bd7wHD21kwDH8CQ2gKDK8ikBmKQPZoBHLD05Cln6dSvVBE69PMkSnM6njgIk3NN6wPH3UqT7s5fNrNweNHnTj++QvOq4iCrGBMoRsICsWoTDdlMYVCTFGpdpcN9LqI233T6vN5lWAwiMFgL/j9zzAyOYkry8sYF0VcFUXd0/WqGNuUxUUR4ssiXYkJyHV315OWlhYry7IKz/PI8zxwHIefJ99hIpHAldVVTEoSJpNJ3SVZ1tnIkrpDUpLoWiKBXp/v94Esy+L3b7OoSVVVTEurRVHEpaUljMfj+JMAESkAYF9fXz1xu90bA3t6evQNJyY+4cLCgv5YEASMRqM6i4uLf8pBEASqZV1dXamBHMcpgUAAA4EAeL1enJmZQVn7niTpnoZSiuvr67/mIMsylSVJW8iV3jDJ87zK87zCsiydm5uj2jc0AcAm9MeyTFVV3YCqqhxNrmN/MOgira2tdr/fj/39/TpaPT8/j/+iGKzhk68vkO31NZKamppD7e3tgx6P57XH4xlta2sL8zwf1jQ8PBweGRn5K6FQKDw49GL02UDwzZ2OO6cIISSDELKTEJL7n+QQQrb+AAIF67u2QIy+AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Menú desplegable para la creación del widget.&quot;
        title=&quot;Menú desplegable para la creación del widget.&quot;
        src=&quot;/static/cf250ca3b2b8ad1f8d67f65989b9812c/f058b/menu-crear-widget-led.png&quot;
        srcset=&quot;/static/cf250ca3b2b8ad1f8d67f65989b9812c/c26ae/menu-crear-widget-led.png 158w,
/static/cf250ca3b2b8ad1f8d67f65989b9812c/6bdcf/menu-crear-widget-led.png 315w,
/static/cf250ca3b2b8ad1f8d67f65989b9812c/f058b/menu-crear-widget-led.png 630w,
/static/cf250ca3b2b8ad1f8d67f65989b9812c/40601/menu-crear-widget-led.png 945w,
/static/cf250ca3b2b8ad1f8d67f65989b9812c/78612/menu-crear-widget-led.png 1260w,
/static/cf250ca3b2b8ad1f8d67f65989b9812c/19bb3/menu-crear-widget-led.png 2066w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Con esto ya tenemos nuestro &lt;em&gt;dashboard&lt;/em&gt; listo para publicar el valor de la variable LED cada vez que pulsemos el interruptor de la interfaz web.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/5c5315db0a1fbdc2962db65251cfa4a9/19bb3/dashboard-con-switch-widget.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 68.35443037974683%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAACj0lEQVQ4y6WRS0gbURSGL6WLFtqqFGrBYkSqlbZ5mIyZiZkkk4kihVYoNGqpgkXahYtCF6Urt1JQwX1dFLTi3gjZuLC02y4suLVgtEmTmJvJzWse55S5SYoL6cIe+Dj/+e+5P8Md4rrvuaKInrDo98QEj1f1OJ3qsN+vhiRJFX0+NSj61REloo5GFa5lSVQjwWFVEnxqYEjgnr0nS9KIKPjaSOftvsGoHNLDagyD8ihKkoLCUBh9QhhdngB6fSGUw2MYCo9xbft+UUGXO8DPbS0FVBBEBQcG3OOEkFuSEJ0xHk++xUfxN/B0+h04nE/g+p0IdPSo0O6IQlu3wmnvUf96drd3HK5xcAcmze7eGF7rdE6Qji6veHdoSvfFXqM7Mmd51VfQL02DY3ASerw2U1z3+V+AW5mDh6GXnAfyLPRLM+CWZ6ErMmdeffYeu3qDcbK4+EE8/Hlk5E+LmD+lYPdsvoC5POVkcwVOLl9AfpY7xeOTDOfoOI2/T9LwPZU21w5/4aePa3GyuroqVqsVAxsFzY6GoaNp6HheVSplLDOG5TJDVmZQLzMTSkX8vLk5QVZWVsQSYzzQsiwwLYtf2t//gbu7u1zbnmUBAgCapoWapiGlRSwWOUCLRTNPKa6vrzcCWTMQGsVDUqkUHhwcYNPHlm9ZjUA7rNlB0zTTnjc2NibI8vKymM1mjUqlgowxYIzZHe25Xq9ja25RKpXOhp0fmMlkjOYiNJc4lFI8O7f4xxfGydLSkphOp2uaplmUUoNSal4AvVAo2G/I//KwPei6jrVa7ULYT1OtVnFra+s5mZ+fv7e9vZ3c2dn5mkgk9hKJxJcLsJdMJr8tLCzIhBByiRBygxBy8z9pJ4Rc/gOOYvFYoxb8gwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Dashboard con el interruptor de control del LED.&quot;
        title=&quot;Dashboard con el interruptor de control del LED.&quot;
        src=&quot;/static/5c5315db0a1fbdc2962db65251cfa4a9/f058b/dashboard-con-switch-widget.png&quot;
        srcset=&quot;/static/5c5315db0a1fbdc2962db65251cfa4a9/c26ae/dashboard-con-switch-widget.png 158w,
/static/5c5315db0a1fbdc2962db65251cfa4a9/6bdcf/dashboard-con-switch-widget.png 315w,
/static/5c5315db0a1fbdc2962db65251cfa4a9/f058b/dashboard-con-switch-widget.png 630w,
/static/5c5315db0a1fbdc2962db65251cfa4a9/40601/dashboard-con-switch-widget.png 945w,
/static/5c5315db0a1fbdc2962db65251cfa4a9/78612/dashboard-con-switch-widget.png 1260w,
/static/5c5315db0a1fbdc2962db65251cfa4a9/19bb3/dashboard-con-switch-widget.png 2066w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h4&gt;Programación del microcontrolador&lt;/h4&gt;
&lt;p&gt;Ya tenemos una cuenta en Ubidots, hemos añadido el dispositivo a la cuenta, hemos creado una variable LED asociada al dispositivo y hemos añadido un &lt;em&gt;widget&lt;/em&gt; a nuestro &lt;em&gt;dashboard&lt;/em&gt; para controlar esa variable. Vamos a programar el MCU para que se conecte a la red Wi-Fi, se suscriba a la variable LED que publica Ubidots y aplique el valor de esta variable al estado del LED de la placa de evaluación cada vez que se publique un nuevo valor de la variable. El código que utilizaremos es el siguiente:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;cpp&quot;&gt;&lt;pre class=&quot;language-cpp&quot;&gt;&lt;code class=&quot;language-cpp&quot;&gt;&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;lt;UbiConstants.h&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;lt;UbiTypes.h&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;lt;UbidotsEsp32Mqtt.h&gt;&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;define&lt;/span&gt; &lt;span class=&quot;token macro-name&quot;&gt;LED_PIN&lt;/span&gt; &lt;span class=&quot;token expression&quot;&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;WIFI_SSID &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;SSID of your Wi-Fi&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;WIFI_PASSWORD &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Password of your Wi-Fi&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;UBIDOTS_TOKEN &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Your Ubidots token&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

Ubidots &lt;span class=&quot;token function&quot;&gt;ubidots&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;UBIDOTS_TOKEN&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;handleMessage&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;topic&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; byte &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;payload&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; length&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; ledValue &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;payload&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ledValue &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;1&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;digitalWrite&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;LED_PIN&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; HIGH&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;digitalWrite&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;LED_PIN&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; LOW&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setup&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

  Serial&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;begin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;115200&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  Serial&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  Serial&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Device initialization...&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;pinMode&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;LED_PIN&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; OUTPUT&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;digitalWrite&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;LED_PIN&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; LOW&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  ubidots&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;connectToWifi&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;WIFI_SSID&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; WIFI_PASSWORD&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  ubidots&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setCallback&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;handleMessage&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  ubidots&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setup&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  ubidots&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;reconnect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  ubidots&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;subscribeLastValue&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;esp32&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;led&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;loop&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;ubidots&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;connected&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    ubidots&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;reconnect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    ubidots&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;subscribeLastValue&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;esp32&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;led&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  ubidots&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;loop&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Primeramente, asegúrate de inicializar correctamente las variables &lt;code class=&quot;language-text&quot;&gt;WIFI_SSID&lt;/code&gt; y &lt;code class=&quot;language-text&quot;&gt;WIFI_PASSWORD&lt;/code&gt; con los datos de conexión de tu red Wi-Fi. Después inicializa la constante &lt;code class=&quot;language-text&quot;&gt;UBIDOTS_TOKEN&lt;/code&gt; con el tu token de Ubidots. Lo puedes encontrar en el panel de dispositivo en Ubidots.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/5ff2a9bc9c4c63b516ee8927dbf02941/19bb3/panel-dispositivo.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 68.35443037974683%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAADnElEQVQ4y6WRXUxbZRjH36iJxkRn/IgBP2/MZLAyATmFlgKnlDlUMjYhMV545ccupsR4yY0umigxFgws24VhGMmCAbNBy1hIIw24bsIUZkoG/aalUM45PW3Xz/P2+ZuWCzNvfZJffk/yvvk/T/Kw2qP6RyymFpPZYja/0dkltreZRVOLKBoNbaL+9WbR0GwSO8zHxU7zcdHYZBKNhtbyu77RIDYJRrGtRRTbTeaSO/SNzYfYM8+++lpHW2eh3fImmppPQNBb0CBYcKzBjKpjrdDVtUNv7IK+5S3o6kXU1rejrtGCal0LampNqG8s/e+kkg9XNXSzJyt0+hdqT2tVhvfxiv49qtS9QxU1PVRR3UMNb5+l1u6zZOw6Q4aTn1JT9ydkOHGGntedpsqaU/RczSmqrOkpmVccOYmnX9L3sZc/+Ew4dOl64eHJJTw2uVRkP/9G1VNL5Lz1F924sUrLrtt0c2WN7rg36e+NrbJvr2/Qn3c2Drx+l1bXNrjrj3Wc++rbXvbgx58Lj179XWO2FbArLmJXXHjx+ip82yFEwiEEgwHEYrtQ4hIkKYZUKo5sLoV8IV0mm71HcUXisb1dXLxwoZd9+OXXwmW3R5vyRzEViNIvwV3MBnaw5fHC6/HA6/VClveRTKnlUFmRsLMTQSy2B0neL/W05fHwzc1NjIyO9rGLIyNCPqlqKGoAQMCBZEVGKByBzx9EOLKDfUlCKp3CXmyvPMTn8yEQCGB7O0R+v5/7vF6cLwV+b7UKcjyucQCciDgRcoUCEuo+4nIUAd9deDfdCAW2kFD3EAlvw+fzw+8/IBgK0u5ulPtD2xgeOd/HrFarIEmSls/nkclkiHMNWhHIL34Emj4CbfpoGf5rLWi6Ckn3JOREFoosQZZlKIpCyWSCS4qCH8cu9bHh4WEhkUhonHNomkbFIkehCCQu1yH1HUNqmCFpZUiWPMgQX/kBiQyQvpeE2+1GOBymdDrNVTWO8fHxXjY0NCSoqporFotFTdNKwTxf0Li89hPfd37B465veOLWIFdvDnJl+RyX/S4eT6a5Iks8EonwaDTKVVUtKIqCsbGxXjY6OtqcTqfx36J/L3RflbbPZjLIZnPI5XLIZrNlZzIZTExMvMv6+/sP22y2a/Pz80sOh2PR4XA4FxYWnHP2Wef83Kzzmn3GOWe7WqbU2+02p91uv4+ZmZlFu92+PDAwYGSMsQcYY48zxp76nzzBGHvoHyEr8JycBuCeAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Panel de dispositivo en Ubidots en el que puedes encontrar el token de acceso que debes indicar en la constante UBIDOTS_TOKEN.&quot;
        title=&quot;Panel de dispositivo en Ubidots en el que puedes encontrar el token de acceso que debes indicar en la constante UBIDOTS_TOKEN.&quot;
        src=&quot;/static/5ff2a9bc9c4c63b516ee8927dbf02941/f058b/panel-dispositivo.png&quot;
        srcset=&quot;/static/5ff2a9bc9c4c63b516ee8927dbf02941/c26ae/panel-dispositivo.png 158w,
/static/5ff2a9bc9c4c63b516ee8927dbf02941/6bdcf/panel-dispositivo.png 315w,
/static/5ff2a9bc9c4c63b516ee8927dbf02941/f058b/panel-dispositivo.png 630w,
/static/5ff2a9bc9c4c63b516ee8927dbf02941/40601/panel-dispositivo.png 945w,
/static/5ff2a9bc9c4c63b516ee8927dbf02941/78612/panel-dispositivo.png 1260w,
/static/5ff2a9bc9c4c63b516ee8927dbf02941/19bb3/panel-dispositivo.png 2066w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Saltando directamente a la función &lt;code class=&quot;language-text&quot;&gt;setup&lt;/code&gt;, allí inicializamos el pin del MCU al que está conectado el LED como pin de salida y en nivel bajo por defecto.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;En la placa que he utilizado para este tutorial el LED se encuentra en el pin 2. Si no es tu caso porque utilizas otra placa o bien haces el tutorial con un LED externo, simplemente indica el número de pin en la macro &lt;code class=&quot;language-text&quot;&gt;LED_PIN&lt;/code&gt; de la línea 5.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Seguidamente, nos conectamos a la red Wi-Fi y nos conectamos a Ubidots para, finalmente, suscribirnos a la variable “led” del dispositivo “esp32” en Ubidots. Recordemos que utilizamos la “API Label” tanto del dispositivo como de la variable para poder suscribirnos.&lt;/p&gt;
&lt;p&gt;También indicamos la función &lt;em&gt;callback&lt;/em&gt; a utilizar cada vez que se reciba un mensaje en alguno de los &lt;em&gt;topics&lt;/em&gt; (variables) a la que nos hemos suscrito. Ese &lt;em&gt;callback&lt;/em&gt; es la función &lt;code class=&quot;language-text&quot;&gt;handleMessage&lt;/code&gt; donde comprobamos el valor recibido de la variable “led” y operamos el LED de la placa en consecuencia.&lt;/p&gt;
&lt;p&gt;Finalmente, en la función &lt;code class=&quot;language-text&quot;&gt;loop&lt;/code&gt; comprobamos que seguimos suscritos a Ubidots (si no es el caso, nos volvemos a suscribir) y ejecutamos el método &lt;code class=&quot;language-text&quot;&gt;ubidots.loop&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Si hemos seguido los pasos correctamente, ahora debemos de ser capaces de encender y apagar el LED de la placa de evaluación desde el &lt;em&gt;dashboard&lt;/em&gt; en Ubidots.&lt;/p&gt;
&lt;h3&gt;Visualizar datos de temperatura en Ubidots&lt;/h3&gt;
&lt;h4&gt;Crear la variable temperatura en Ubidots&lt;/h4&gt;
&lt;p&gt;Como en la sección anterior, nos vamos a Ubidots y creamos una variable más para nuestro dispositivo y la nombramos “Temperatura”.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/e26bac4f50b448067cc9d09b2e71ef07/8079d/variables-del-esp32-en-ubidots.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 70.88607594936708%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAADnUlEQVQ4y52TbUxbZRTHn4kv8WUKxgEuZGYSYWO80/HSrh2CMLYx/LQxXcJc2JyyF5xxMKM3OINzKnHLGEvMPmBisn11hRZwg0tgUT8ZNiZGKS0USm9fLlC6Fnrvuc/ftCWazG+e5P+c5H+e88s5yfMwxthjFaWFx7cX553Py8n/NGtLllBcpBOMeoNQVlIiGPV6oaaqSti9q1owGQyC0WAQyk0moUSnE8qKS2Iq1m1v05eUns3PzXmBMcaeL9W/IVXX7UdFzQFU7a1HkX43tuSa8FqWARnbdiC7sBK5RZXIyDYiM8eI7MKKWM7MNqKodBfKTLXI01UiZWN6fhSYmL5tn62m9iRerzqmlFcdo81ZdZTw0g5KytxHyVvrKCVjLyVl1tKGzFp6Mb2GnkjZSU++XE6PJ5so6dUaNXVrHV+/qTKY8NwrBSyZscSNhwV78vtfI/W9i9ozDef5pqNf8OMfdfDWC9f5Z9908/aObt7eeYNf7LrJP+/4np84d4k3tXzLT567zE+0XuZNLZfQ2PxlWKevLmAbGEtMMP9iZ3cegA3c09hP95E6MgG37IN3fg6zs05I0jyWAwsIBGSEQgFo2gqIVsC5AlVZ4UokDJ9XCn945oOC2Mp1llH7myP3sWd4TKseHsOh0Xt48Ock7FNTsNmm4PFIWFj0w+P1QF7wwef3YmFRjsk56+R/TU5ifHw83NzcHAc+9Pvs4BoAxA6AQ3K74LDb4JiyweudRyDgRzC4AJ9PgsMxBafTgXmXE84ZB4/e+2Pi93+BLrfbrhCBONeIAxFFxVJoFf7lCOyzPkxOS3BKi1gKE2bdPtim3bDNeGK1aZfM57zLmJicCZ8+fSoOnJubs6uqikhkVdM0DSoRQmNXoIw04uHgEQTvvIPQ4BFE7jZh6bcuBIdPIXi7Ie6LRzmNNsI13BY+88lXcaAkSf8AiYirpPHQjzv5aifjq11r6mQ8fI3xoHkPj3zH+OrVNf8q48oVBvmH7HBL+/U40OPx2KKTEZGqaRpFFIXkny+Q79Z+ki1vx9V7kGRrA8m/dpC//12SrYdJ7n2LZMshdbH3AFy3Pw62tnXEH7bf73fjkSAACv4bfM2nR/wVFWhtOVsUBT5rNpu7BwYG7g4NDQ2JoigODg6KfdZesc/aI/ZZekSrxSz2WcyxbLX0iP3R2ppvtZiH+q09I709t8z19Qc3s7S0tHWMsaeif5oxtv5/Ktr7NGNs3d8sYbTa6v6ihwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Panel de dispositivo en Ubidots con las variables existentes.&quot;
        title=&quot;Panel de dispositivo en Ubidots con las variables existentes.&quot;
        src=&quot;/static/e26bac4f50b448067cc9d09b2e71ef07/f058b/variables-del-esp32-en-ubidots.png&quot;
        srcset=&quot;/static/e26bac4f50b448067cc9d09b2e71ef07/c26ae/variables-del-esp32-en-ubidots.png 158w,
/static/e26bac4f50b448067cc9d09b2e71ef07/6bdcf/variables-del-esp32-en-ubidots.png 315w,
/static/e26bac4f50b448067cc9d09b2e71ef07/f058b/variables-del-esp32-en-ubidots.png 630w,
/static/e26bac4f50b448067cc9d09b2e71ef07/40601/variables-del-esp32-en-ubidots.png 945w,
/static/e26bac4f50b448067cc9d09b2e71ef07/78612/variables-del-esp32-en-ubidots.png 1260w,
/static/e26bac4f50b448067cc9d09b2e71ef07/8079d/variables-del-esp32-en-ubidots.png 2100w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Y después nos vamos al &lt;em&gt;dashboard&lt;/em&gt; para añadir un &lt;em&gt;widget&lt;/em&gt; tipo “Line chart”.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/efe4edc26ae034828b551e8c408a1a3d/8079d/widget-tipo-line-chart.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 70.88607594936708%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAADZ0lEQVQ4y52TXUwcVRTHb/XBqFH7gk+mtkCzu4kNdKHGxSDxq7U+SExj0peWVkxMjSlKYzRup7sLGqMPvvCOgQXpbqDAfrErsrNdUGhNTQzESKEbXVFBlMLOzp2ZO3fu38wMbXzwyX9ycv73TM7vfuQMIYTc80LLkTcDLc2RJv+TFxsa/FKg0S+1eXxSS91B6RmPVzrub5JebmqW2rw+p/78E4ekQG2d9HT9Qbfm9YVaPb73Gvbte4QQQh5u9gfWW597EYHWY2h56lkceukEDnSHsP98ELXvSPC+3wvfBx+h9l3JifoLYTx+/kPs77qIuu5LqL8QQn1XEI+2HW20gXv3PnZk1XP4OGobjzKvp5U/8FoXJ3MlTgo3OSmscJJf5uTqCr/3mxInc7fcXFx1vxVumuTqqiBfLSmk4+3DDvBYe0fp1ZPn0H7ynPVK+xlx4tLnovOn30XnYll0LJZF59Kv4qwTti/fza8vlcWZxbJ448c1nL6xQpvf6naBly9/WZrKpJHLTlnJZAJL39+ALYNbThZC4I703VrF5FBdLxgArmn0s0jYBUajQ6VEIoHJyUlrdHQU1xYWcFs3sK6osCwLm1UV1GAwTI6/VQpmcvxVVbGlUuiMiY2qis3tHdrbE3GBw8PDpVQqhWQyaY1duYLvrl+DYjdRHbAsKIbhQBi3UDGYU9vRdOzoBgTnYks3UFEU2hPZBQ4ODpYmJiYwPj5uxeJxXJ+fx5Zh4pcqdZo3VQqNMaiMYXlbsd8AG5qOdXtDIcTPVQ23FYV+fOfK/f39pXg8jlgsZkWjURRnZ8EtC4wxcM5RoRQGYzBNEwqlzjPYa50x24vq7gkj4f8ADg0NieLsrPjTtMRvGhN2w7KiiR3DFIxzsaYZAsISa9QQGzpz/A+Kji2lSj/51wlXY7GYDTSj0SgvFIu8ajC+rVKuMcaponBd07hpmlynlNsydI0bum5b0zIZFEVRQqGQO9gDAwN/jI2NwY6RkREszH8LDmDbnZC72dYmd0dIBaDsTtMtJlDRdHza29NkAx8MBoNfhMPhuVAolA8Gg3JfX5+cy+XkdCYj5/N5eTyVlnPT0/LMzIycTGdkW+lsVs5ks3JBlvOpqWxxevrrxOlTpw6QmpqaPYSQ++x/mhDy0P8Mu/d+QsiefwAxruaFm0Bd+gAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Menú desplegable en el que escogemos un widget tipo &amp;quot;Line chart&amp;quot;.&quot;
        title=&quot;Menú desplegable en el que escogemos un widget tipo &amp;quot;Line chart&amp;quot;.&quot;
        src=&quot;/static/efe4edc26ae034828b551e8c408a1a3d/f058b/widget-tipo-line-chart.png&quot;
        srcset=&quot;/static/efe4edc26ae034828b551e8c408a1a3d/c26ae/widget-tipo-line-chart.png 158w,
/static/efe4edc26ae034828b551e8c408a1a3d/6bdcf/widget-tipo-line-chart.png 315w,
/static/efe4edc26ae034828b551e8c408a1a3d/f058b/widget-tipo-line-chart.png 630w,
/static/efe4edc26ae034828b551e8c408a1a3d/40601/widget-tipo-line-chart.png 945w,
/static/efe4edc26ae034828b551e8c408a1a3d/78612/widget-tipo-line-chart.png 1260w,
/static/efe4edc26ae034828b551e8c408a1a3d/8079d/widget-tipo-line-chart.png 2100w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/2c9584fdc3a0bbe54724f556ab4a0db8/8079d/variable-temperatura.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 70.88607594936708%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAAC50lEQVQ4y52TyU8TURzHH6gQY9yiB4kgcaEt0GXaTmfamdJlppvxoP+FiXcPJk6MBy8ePGDiBRM1atHIgXjgArYBESrVkwqCOGBiZDEkKKShs7yvman7FuNLPnl5v3zfJ7/fSx4hhNSnRP5kLB45L/DiWT7IKUIorIihsML5WUVgeSUTl5RsQrZr1jkeiSohX0Dh/awichFF5IVzAhc57W7v3EkIITtYJrDIchx8QQHuQBheLgpflwyPkIA3KiEo5cDKR+HtkuDrkuCPp+EW4vCISTDWWUyAicRw4LCDsYS7mo94Zg+3urDn1BmtoW/YaLgxYDT2Dhmb80P2vr13yNiWHzQa8kPGJnsfNBot+kaM3Rd79EOiRA9F5bW9B9v8ttDpYVWvw40dyiWTTLyl5MEkJYUpWjc8TfeNv7ZpGlfp/pJK64enKSm8rGVG52jj1X4ajKfAJNKV5iPOmpATYmo0FEbnhW6zaWIeLcXnaBmZgnN0GlzpFbxjM2DGZxB5PIuOR9NoHplC6/AkmksqXNf7aTaVg5zOVdocrpowLMZUxh9Cz628+RHAwnoFK5qB5aqOhQ0NS1Udi1Ud7zY0u7ai6VjeqGIdwOBYicaTaSTl7DdhRIyrPj+H3vwdEwB0TQNMswb9ic91U9etKMoTZZqQMpBSuYrD+aVDIaZ6mZAt7FutYvT9qh3WTAqD/h7NMOzM2ET51w75SJfq8QVx63avPfLS6oevHfxpmaY9DErlJzQpZyGnj1YczvYfhTdu3rZSVNM0qhnGX9nQdGply+WnNCHXRna6vgln3d4g7ty9Z7Vl/CvFtWfGwHhBz6SOIZnKrjmc7cyXN1xgAhy6L1/B4tISXs2+xvz8m78yNzePgRcPke/vg5TOgZcS6HC5g5ZwW0en91qH2zcaZPmCEI0Vo7FEUU5li1Iq8wvf14/nThTlZKYQCPEjDBu639LSepBs2dJQRwhptP40IWT7f2Ld3UoIqfsEw450kQ8rbIEAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Menú desplegable en el que escogemos la variable a dibujar en el nuevo widget.&quot;
        title=&quot;Menú desplegable en el que escogemos la variable a dibujar en el nuevo widget.&quot;
        src=&quot;/static/2c9584fdc3a0bbe54724f556ab4a0db8/f058b/variable-temperatura.png&quot;
        srcset=&quot;/static/2c9584fdc3a0bbe54724f556ab4a0db8/c26ae/variable-temperatura.png 158w,
/static/2c9584fdc3a0bbe54724f556ab4a0db8/6bdcf/variable-temperatura.png 315w,
/static/2c9584fdc3a0bbe54724f556ab4a0db8/f058b/variable-temperatura.png 630w,
/static/2c9584fdc3a0bbe54724f556ab4a0db8/40601/variable-temperatura.png 945w,
/static/2c9584fdc3a0bbe54724f556ab4a0db8/78612/variable-temperatura.png 1260w,
/static/2c9584fdc3a0bbe54724f556ab4a0db8/8079d/variable-temperatura.png 2100w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/f9d814b6501b4e0e46396e943560e012/8079d/menu-widget-temperatura.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 70.88607594936708%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAAC/0lEQVQ4y52TXUgcRwDHx76UtLTxxTyF1E/uDiLqqSVnsZIm0aQPkZAE8lRNIKTSoolVDG7WPbEvfcmLb0kw6GnNCX6dJqal3nmnYqEfFGxLa497iEnvuPPuVtddP3Z2/mV2D2tCICR/+O0M/539sQMzhBDy1smqymuuqorucueHt0pKnKKr1CnW2BxiVUGR+LHNLp5xlouflleINXaH2Z84Wiy68gvEjwqLrM7ukKptjvaSI0cOEkLI+xVOV6z6k1NwVdeh6thxFJ8+j7xWCbnNAvKvi7B39MBx82vk3xCRd0NEYZsbHzQLyG25hYLWLhR+JaGwRcChmtpSLszOPlwZtpWdQX5p7a7dVk3fudhMyUKEkrkVC//fFvNhmrUYoST0DyVzGQIrOgmGGfl+WSENX5aZwrr6hsi5S02ov9RknK1vZBe6brOGv/5ljctP2OXfV9nlP1bZlRcw+wxX/nyGz34Na5VftFrCBw++jcw8eojvHs8Y01M+/PbLz2CUAgYFmGGNJjpAdWv8v2MAA1M3tZ6uLkvo8QxGfD4fJicnjdGxMQQDs4hGnyEWTyAWj2MtlcJaKo2ULCMlryOZljOdCePdk6dPtbb2dks4NDQUmZ6extSUzxT+9OMiAAPUMED5n2ayu7sLTdOg6zr2hfHH1taWJkmSJRwYGIhMTExgfHzcGBkZwcLCIjYUBZuKwheaElVVEY/HEY1GkUqlzJ53qqoyPk8mk1pnZ6cl7Ovri3CR1+s1BgcHMTs7i0QigXQ6jfX19T0URYEsy+Y7LuWdLMtsY2MDsVhMu9nR8VIhm5+fZ4ZhmGS2tIeu62x7e5vx7Ov5LjR3d/eeMOz1erlQ93g8NBQKUZ6dnR1qGMZz8OyfU0p1MAZ1U1UkSbIOdn9/f3R0dBSc4eFhLC0t4XWyupPA3ZUp3Pmmt5wL3xUE4b7b7V6QJMkvCEKgt7c3EAwGA36/P/CqBOeC/oc/zITuTQ75Pm+8mkdycnKyCCFv8ztNCHnvDeHfHiCEZP0HYd3lQX7G1bwAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Menú desplegable de creación del widget para la temperatura.&quot;
        title=&quot;Menú desplegable de creación del widget para la temperatura.&quot;
        src=&quot;/static/f9d814b6501b4e0e46396e943560e012/f058b/menu-widget-temperatura.png&quot;
        srcset=&quot;/static/f9d814b6501b4e0e46396e943560e012/c26ae/menu-widget-temperatura.png 158w,
/static/f9d814b6501b4e0e46396e943560e012/6bdcf/menu-widget-temperatura.png 315w,
/static/f9d814b6501b4e0e46396e943560e012/f058b/menu-widget-temperatura.png 630w,
/static/f9d814b6501b4e0e46396e943560e012/40601/menu-widget-temperatura.png 945w,
/static/f9d814b6501b4e0e46396e943560e012/78612/menu-widget-temperatura.png 1260w,
/static/f9d814b6501b4e0e46396e943560e012/8079d/menu-widget-temperatura.png 2100w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/9fe6a86630a1a8b5a42e98f76868f6b8/8079d/dashboard-con-temperatura.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 70.88607594936708%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAACIklEQVQ4y7WTTWsTQRiAp15ExI+/4FU9WCz4D5o0nzZVAr168BcImzaLePDotaLE1mw2bZM2bUwI5NRA8eYP8FJ68ZCGDbIf2XR3Z+Z9ZSabLywUBAce3pl3eZ+ZYd4lhJAbmVjkdSode5eIP89HI3E1HktJIssxNbaSVNcyL9UXa9lJPp3KqNHluLoSTajJxKqaSq6+TcbTb5aWnt0jhJC7hY9bF3pZw7K+h5qmo17axbK+i6WihiWtjPv7VaxUDlAvlbGk6Vj8qmGhsI1fCjty/nm7iB+2PuGr9fUnQnjftOwzHI0AEdl1BDRglFJJEASUMQaWbTv5/OaiFBqGcS5sjDHOGQVABP/XKQx/vJdzzvkEWWxZYJrmBNu2sXfRGyqKMi8EAFGFIOa/fyKcVUQOpVVGEJuiZVkThNBxHOz1esNcLjcSdrvdc8/zMAgCzjmXRZQjBoA4Xs/i+/4sQCkV4vkThrvz8UkAOAIwnK6nzA4IE67rToX9fl9eWRzvKsE1SOFgMJhe+b8J5SvL1wSYizCKMBdh8v0voWEYYR8CRYSw3+BqYCYCMABOQ6GjKErY2KbZpQzQtF20B5cjXA8diY+D4ZgA3csxFIceldGngJ7n4+bGxlMhvN1qtXYazdb3vWrtpHp43BlzUKuHfOscHoUcNzo1SbNzVG92avXmSb3ROm23241sNvuAPH70cIEQclP804SQO/+IqL1FCFn4A/k2VKCJa5peAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Dashboard con la gráfica de temperatura.&quot;
        title=&quot;Dashboard con la gráfica de temperatura.&quot;
        src=&quot;/static/9fe6a86630a1a8b5a42e98f76868f6b8/f058b/dashboard-con-temperatura.png&quot;
        srcset=&quot;/static/9fe6a86630a1a8b5a42e98f76868f6b8/c26ae/dashboard-con-temperatura.png 158w,
/static/9fe6a86630a1a8b5a42e98f76868f6b8/6bdcf/dashboard-con-temperatura.png 315w,
/static/9fe6a86630a1a8b5a42e98f76868f6b8/f058b/dashboard-con-temperatura.png 630w,
/static/9fe6a86630a1a8b5a42e98f76868f6b8/40601/dashboard-con-temperatura.png 945w,
/static/9fe6a86630a1a8b5a42e98f76868f6b8/78612/dashboard-con-temperatura.png 1260w,
/static/9fe6a86630a1a8b5a42e98f76868f6b8/8079d/dashboard-con-temperatura.png 2100w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h4&gt;Programación del microcontrolador&lt;/h4&gt;
&lt;p&gt;Vamos a incorporar la variable “temperatura” al código del MCU para que el ESP32 esta vez publique (que no que se suscriba) valores en esta variable o &lt;em&gt;topic&lt;/em&gt;. El código es el siguiente:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;cpp&quot;&gt;&lt;pre class=&quot;language-cpp&quot;&gt;&lt;code class=&quot;language-cpp&quot;&gt;&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;lt;UbiConstants.h&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;lt;UbiTypes.h&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;lt;UbidotsEsp32Mqtt.h&gt;&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token macro property&quot;&gt;&lt;span class=&quot;token directive-hash&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;token directive keyword&quot;&gt;define&lt;/span&gt; &lt;span class=&quot;token macro-name&quot;&gt;LED_PIN&lt;/span&gt; &lt;span class=&quot;token expression&quot;&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;WIFI_SSID &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;SSID of your Wi-Fi&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;WIFI_PASSWORD &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Password of your Wi-Fi&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;UBIDOTS_TOKEN &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Your Ubidots token&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; PUBLISH_FREQUENCY &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

Ubidots &lt;span class=&quot;token function&quot;&gt;ubidots&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;UBIDOTS_TOKEN&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;uint32_t&lt;/span&gt; timer&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;extern&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;C&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;uint8_t&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;temprature_sens_read&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;uint8_t&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;temprature_sens_read&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;float&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;temperatureToCelsius&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;uint8_t&lt;/span&gt; temp &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;temprature_sens_read&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;float&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;temp &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;32.0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1.8&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;handleMessage&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;topic&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; byte &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;payload&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; length&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt; ledValue &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;char&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;payload&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ledValue &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;1&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;digitalWrite&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;LED_PIN&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; HIGH&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;digitalWrite&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;LED_PIN&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; LOW&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setup&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

  Serial&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;begin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;115200&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  Serial&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  Serial&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Device initialization...&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;pinMode&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;LED_PIN&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; OUTPUT&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;digitalWrite&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;LED_PIN&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; LOW&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  ubidots&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;connectToWifi&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;WIFI_SSID&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; WIFI_PASSWORD&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  ubidots&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setCallback&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;handleMessage&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  ubidots&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setup&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  ubidots&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;reconnect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  ubidots&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;subscribeLastValue&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;esp32&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;led&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  timer &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;millis&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;loop&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;ubidots&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;connected&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    ubidots&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;reconnect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    ubidots&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;subscribeLastValue&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;esp32&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;led&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;abs&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;millis&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; timer&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; PUBLISH_FREQUENCY&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    ubidots&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;temperatura&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;temperatureToCelsius&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    ubidots&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;publish&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;esp32&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    timer &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;millis&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  ubidots&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;loop&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;En este código hemos incorporado la medición de la temperatura interna para publicarla en el &lt;em&gt;topic&lt;/em&gt; o variable “temperatura”. &lt;strong&gt;Importante:&lt;/strong&gt; la temperatura es la interna del MCU, por lo que no esperes medir la temperatura ambiente. Por otro lado, esta funcionalidad ha sido marcada como obsoleta, puesto que el sensor de temperatura interno del MCU no es muy fiable. Aun así, utilizaremos el valor de sus mediciones (aún sabiendo que pueden no ser correctas) para minimizar el material necesario para realizar este tutorial.&lt;/p&gt;
&lt;p&gt;Respecto al primer código, simplemente hemos añadido que cada 10 s se publique el valor de la temperatura en la variable “temperatura” de Ubidots. Compilamos, cargamos el programa y si hemos seguido los pasos correctamente, podemos observar como la gráfica del &lt;em&gt;dashboard&lt;/em&gt; en Ubidots empieza a dibujar los datos recibidos cada 10 s desde el MCU.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/7ecda7bed5841c2393bd54519570871f/3a1b1/grafico-dashboard-temperatura.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 72.78481012658227%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAABYlAAAWJQFJUiTwAAACiUlEQVQ4y6WSz08TQRTH96/w4F/hybDRkKhIUCi7220EBX8QEVoWGg8mHj0KJ+NN/AdMLDe8kBihpA3SKiJUbTEibssV7K+dnZ2d98zMtMQGiAcn+Wbem/fmM9/ZHe1a38AZI2JfsAbtLtuM6eZgVMoybD3Sb+iR64be29OnX7nUq/dc7tUHB0zdjKge0W8ZdlfUjF0c6DfOOomkpt2KDj95lBjHyZlJnI4nMf4ggRP34zidSOL42ATesIdx5OZtvDN6D534DCYmHEw6D2U8PZXExKQje0dH7j4vFnY1LfU6NbdfKaPrusx1y6DkSpXLFVhfz0EqtQDZbFbmol5uSfb+clmlso+Li29eIqKmZbKZWVSDISKcJM45nFZr7cONjY15CVxeXp7zPA+r1SojhCALQ2SMdSjsWDtWZ2HI8f3amnKYTqfnxAmeRxglDURGWvI646CVB01hGQHa9hlDCDGX/6CAKysrEkgpZZRSFJ0gJDdxFYuZt+KQIg+IAgIip02GwDGXz3cCfd9XQHFqG3qaaPPoEAlExFwud9xhEAT/Boo68xHCQLll9GQgIeTIIW9fD+DUGGhDinOQwPW/gLMK6LF6vQ7Q2uH7PjAWKEOMge8T+dUAOBBRI3XAkEIYMIY8xI/5nHo2q6ur6i8TGhwcVqHp+eD5FA5/16BWbwKhAdQbnsw9QsGnDGr1BjQIBeQI3w9qbGxrD1+lM8rh0tLSU/EOvxR/4KftIm5uF+X8uVDCzUJJrRVKMm+vf9v5iTu7ZSyVdjGzVcRnX/dw4e27FxLY3d19zrKsKcs0HNu2pGJijirF7Oix2LIMR/RblukMRc2pxyNDTuRqz3lNDEGV5P8YbYbg/AEQdJwjmwW5wgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Gráfica en el dashboard de Ubidots mostrando los datos recibidos desde el MCU.&quot;
        title=&quot;Gráfica en el dashboard de Ubidots mostrando los datos recibidos desde el MCU.&quot;
        src=&quot;/static/7ecda7bed5841c2393bd54519570871f/f058b/grafico-dashboard-temperatura.png&quot;
        srcset=&quot;/static/7ecda7bed5841c2393bd54519570871f/c26ae/grafico-dashboard-temperatura.png 158w,
/static/7ecda7bed5841c2393bd54519570871f/6bdcf/grafico-dashboard-temperatura.png 315w,
/static/7ecda7bed5841c2393bd54519570871f/f058b/grafico-dashboard-temperatura.png 630w,
/static/7ecda7bed5841c2393bd54519570871f/40601/grafico-dashboard-temperatura.png 945w,
/static/7ecda7bed5841c2393bd54519570871f/78612/grafico-dashboard-temperatura.png 1260w,
/static/7ecda7bed5841c2393bd54519570871f/3a1b1/grafico-dashboard-temperatura.png 1686w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h2&gt;Conclusiones&lt;/h2&gt;
&lt;p&gt;En este tutorial hemos logrado realizar una pequeña aplicación de ejemplo en el que controlamos el estado de un LED desde un panel web a la vez que en este último vemos los datos de temperatura recogidos por un módulo ESP32.&lt;/p&gt;
&lt;p&gt;Como plataforma en la nube hemos utilizado Ubidots, ya que permite de manera gratuita realizar &lt;em&gt;dashboards&lt;/em&gt; para controlar nuestros dispositivos y mostrar los datos recolectados. Esto, junto el bajo coste de la placa de evaluación basada en un módulo ESP32, permite desarrollar fácilmente y de manera económica aplicaciones para IoT sencillas.&lt;/p&gt;
&lt;p&gt;Para programar el MCU hemos utilizado Arduino IDE (que reduce considerablemente la barrera de dificultad de entrada a este tipo de desarrollos para creadores no expertos en la programación de microcontroladores) y dos librerías (“esp32-mqtt” y “pubsubclient”) que facilitan la posibilidad de conectarnos a una red Wi-Fi y con el servicio de Ubidots.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Promedio de curvas en R]]></title><description><![CDATA[No es la primera vez que he necesitado hacerlo, pero no es algo que necesite hacer muy habitualmente. Hablo de hacer el promedio de curvas o…]]></description><link>https://thealbert.dev/blog/promedio-de-curvas-en-r/</link><guid isPermaLink="false">https://thealbert.dev/blog/promedio-de-curvas-en-r/</guid><pubDate>Fri, 05 Feb 2021 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;No es la primera vez que he necesitado hacerlo, pero no es algo que necesite hacer muy habitualmente. Hablo de hacer el promedio de curvas o sets de datos. En algún centro de investigación en el que he estado disponían de Origin Pro, que tiene una función muy útil que te hace este trabajo con dos clics y medio; pero en la universidad no disponemos de este &lt;em&gt;software&lt;/em&gt; y hago todo el procesado de datos con R. Cada vez que tengo que hacer este tipo de procesado con R… Ay, mi querido R… 😅&lt;/p&gt;
&lt;p&gt;En esta entrada, vamos a ver cómo hacer con R ese promedio de sets de datos y cómo extraer otras estadísticas como su desviación estándar.&lt;/p&gt;
&lt;h2&gt;Para qué queremos un promedio de curvas&lt;/h2&gt;
&lt;p&gt;Pues vamos a imaginarnos el siguiente supuesto. Tenemos un sensor que queremos caracterizar. Para ello, cogemos, no solo este sensor, sino muchos, y realizamos múltiples mediciones mientras vamos variando de manera controlada la magnitud que miden. Por ejemplo, vamos a caracterizar un &lt;a href=&quot;https://es.wikipedia.org/wiki/RTD&quot;&gt;sensor de temperatura RTD&lt;/a&gt;, una resistencia cuyo valor varía en función de la temperatura. Un ejemplo de circuito para medir esa variación de resistencia es un &lt;a href=&quot;https://es.wikipedia.org/wiki/Puente_de_Wheatstone&quot;&gt;puente de Wheatstone&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/8b0d6f783e05e0fbad7cb8a0ae519ce1/cb425/puente-wheatstone.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 53.16455696202532%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABGUlEQVQoz3WT2YqEQAxF/f/f80XRJ0VbxH3fM5xAidNWB0LHLDfJ7ZRzXZec5/nSdV1l33dBqqqSvu/VJkbNL3W2bZNpmmRZllsBS5JEbeKAjeOo9jzPdyMrIMUY3zIMg+R5/vKTi7+uayuoTti2rWRZdgPziy8Mw3tVEzuOQwF937dO6rAKCVEU/QtCQ1mWuqrhDmEjfPAK+AsQTtDnSggTw2Ecx+ory0LSNJWu624qrBxSVBSFFj8BmQKemMJcAisaOpjQxr1yaBsdMM/zXo3ITT+puK6rwGzH1HBNQ/2XDeBT8LN20zQvQHw0I855BUGg3zRwzG0BgE0C3eALPwDmNlF85P0S5/lSsOHGvBLAbK/I1Bh6nvYfnaJbhIylzoAAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Puente de Wheatstone&quot;
        title=&quot;Puente de Wheatstone&quot;
        src=&quot;/static/8b0d6f783e05e0fbad7cb8a0ae519ce1/f058b/puente-wheatstone.png&quot;
        srcset=&quot;/static/8b0d6f783e05e0fbad7cb8a0ae519ce1/c26ae/puente-wheatstone.png 158w,
/static/8b0d6f783e05e0fbad7cb8a0ae519ce1/6bdcf/puente-wheatstone.png 315w,
/static/8b0d6f783e05e0fbad7cb8a0ae519ce1/f058b/puente-wheatstone.png 630w,
/static/8b0d6f783e05e0fbad7cb8a0ae519ce1/40601/puente-wheatstone.png 945w,
/static/8b0d6f783e05e0fbad7cb8a0ae519ce1/78612/puente-wheatstone.png 1260w,
/static/8b0d6f783e05e0fbad7cb8a0ae519ce1/cb425/puente-wheatstone.png 1678w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Circuito de simulación de un puente the Wheatstone con RTD.&lt;/p&gt;
&lt;p&gt;Para este ejemplo, he simulado en SPICE una serie de mediciones para una PT100, un sensor muy común y cuyas características puedes encontrar &lt;a href=&quot;https://es.wikipedia.org/wiki/RTD&quot;&gt;al final de esta página&lt;/a&gt;. En estas mediciones, he hecho un barrido en temperatura de -100 a 100 ºC. Además, en cada medición, he variado ligeramente la resistencia nominal a 0 ºC del PT100 y su coeficiente de temperatura (una simulación montecarlo, para los más interesados). Por lo tanto, veremos que, para un mismo rango de temperatura, obtenemos una señal de salida diferente en cada medición. Nuestro objetivo es, de estas mediciones, sacar la media y la desviación estándar para poder estimar una función de transferencia promedio y su error del sensor.&lt;/p&gt;
&lt;p&gt;Huelga decirlo, en un caso real los datos los obtendríamos experimentalmente y no mediante una simulación.&lt;/p&gt;
&lt;h2&gt;Sets de datos&lt;/h2&gt;
&lt;p&gt;Antes de ponernos con R, aquí tienes los datos que hemos obtenido &lt;del&gt;de la simulación&lt;/del&gt; experimentalmente en la caracterización de nuestro sensor. Cómo verás, tenemos una respuesta que varía según el sensor que utilicemos.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 600px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/c7a8efacbaabeb0891a35fbfc05e1dcc/0a47e/funcion-de-transferencia.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 66.45569620253164%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAABdElEQVQ4y42TW6uCUBCF+/+/JnwQokToIUklCPSlKxloZje7X6x1WBNbtKKTMJh77/lm7TVTBQAOhwOSJPkp5vO5xHK5xGq1QhRF6Ha7sG1bvisEXi6Xt8TFYvERuF6vJYIggOu6MAwDpmmi0+lgs9k8gefz+V9FrM7o9/sC0XUdrVYLg8EAcRzLHgtVHo8HttutKFJRVMiDrDwejwWkaZooC8MwV6vOikIunE6nN1U8xD2C6vU6Go0GPM/LE+mhUs/IgdPptOQhQcrsdruNarUKx3EEwARV8JM9Atzv9zmQSbPZTJTUajU0m025WpqmX0ElID1kApUNh0NpP73yfV+urK72yePXtbzL1+sVo9FIzLYsS34TVvTnlygBOVdUR0/p4WuTfpnTHHi73dDr9TCZTATGuSqC1L+Cb4LUevHNkDkk8H6/yyxSKYMFdrudNItDTxC7zjfXsywDm8k9nmXw+3g8Ppvy7WEyr8LqLMqZ/fb8ARn+zNAxJ7YSAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Curvas de la función de transferencia&quot;
        title=&quot;Curvas de la función de transferencia&quot;
        src=&quot;/static/c7a8efacbaabeb0891a35fbfc05e1dcc/0a47e/funcion-de-transferencia.png&quot;
        srcset=&quot;/static/c7a8efacbaabeb0891a35fbfc05e1dcc/c26ae/funcion-de-transferencia.png 158w,
/static/c7a8efacbaabeb0891a35fbfc05e1dcc/6bdcf/funcion-de-transferencia.png 315w,
/static/c7a8efacbaabeb0891a35fbfc05e1dcc/0a47e/funcion-de-transferencia.png 600w&quot;
        sizes=&quot;(max-width: 600px) 100vw, 600px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h2&gt;Promedio de curvas en R&lt;/h2&gt;
&lt;p&gt;Ahora sí, vamos en materia. Para empezar, veamos cómo tenemos organizado nuestro &lt;em&gt;data frame&lt;/em&gt;. Este consiste en tres columnas: &lt;em&gt;Voltage&lt;/em&gt;, &lt;em&gt;Temperature&lt;/em&gt; y &lt;em&gt;Group&lt;/em&gt;. Las dos primeras son claras; hacen referencia a las tensiones y temperaturas medidas. La tercera columna indica el sensor o curva. Así pues, todas las filas con el mismo grupo corresponden a una curva específica. En este caso tenemos 6 grupos o curvas. Este &lt;em&gt;data frame&lt;/em&gt; lo tenemos almacenado en la variable &lt;code class=&quot;language-text&quot;&gt;df&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 394px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/051c8a4ddd20cf6b441495a05e05a28a/cc097/data-frames-experimentales.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 98.73417721518987%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAACaElEQVQ4y5WUy2vqQBTG/Y+LjyqIIkg3iqKgC0HcuJDuum7tIhsV39pY37Utja8anwgi6pzLN5JcjTeBOzAkM5n85vvOOTOmSCTCPB4Pu7u7YxaLhTkcDhYKhRjmw+Ews9lsarfb7cxqtbL7+3sWDAZZNBrl6zHG90AgwEyPj48UiUTI5XKRzWYjs9lMiUSCkskkpVIp8vl85PV6ye1208PDg/oei8UI//r9fj7vdDopHo+T6XQ6MVmWWalUYs1mkxWLRZZOp/kTjYhuuiiKTBAEttvtruYlSWImIqL1ek3v7++8FwoFyufz1O/38YnAvOxo0+mUarWaOla+zedz4sDNZkONRoPa7TbV63Uql8s0GAx0gcvlkkRRpOPxeLVGluUzcLFY0NvbG1+Uy+U4/OvrSxc4Go0ok8nQ6XS6WjOZTM7A1WpFrVaLW4Y6PD8/Pw0VwrJW4e/v719gs9mk7+9v6nQ6HIjd9ICIOdYdDoerNbPZ7AzEjlAI20gKrMO2HhBKKpXKjWU1hkhKr9fjoGKxyGEfHx+6QMQcLi4to6kKlQVQJwgCZbNZwxhifbVavYkhykm1jHKBDdhW4qkHhDU40QLVLCPIsIg6hFLYNyobCMCmWiDmORAVDmXIHMqmVCpxuBEQjv4ZQ2Ww3W756QAMsTQ6erBsGMP9fs8HUAil2B3v/2tZzTIsA4JyQYahstvtGtah9iwrlwauL54QZBjxAxBgJOcSqDTlfTgccmc3tw2AkiRxAMCAwS4yrQUqTygbj8dXR0+pTw6E3ZeXF3p9faXn52d6enriavWAiBVuJS3w5+eH/gA92rrlEnUS3QAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Dataframes experimentales&quot;
        title=&quot;Dataframes experimentales&quot;
        src=&quot;/static/051c8a4ddd20cf6b441495a05e05a28a/cc097/data-frames-experimentales.png&quot;
        srcset=&quot;/static/051c8a4ddd20cf6b441495a05e05a28a/c26ae/data-frames-experimentales.png 158w,
/static/051c8a4ddd20cf6b441495a05e05a28a/6bdcf/data-frames-experimentales.png 315w,
/static/051c8a4ddd20cf6b441495a05e05a28a/cc097/data-frames-experimentales.png 394w&quot;
        sizes=&quot;(max-width: 394px) 100vw, 394px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Data frame&lt;/em&gt; con los datos experimentales. Solo se muestran las primeras filas u observaciones.&lt;/p&gt;
&lt;h3&gt;Homogeneización de la variable independiente&lt;/h3&gt;
&lt;p&gt;Lo primero que haremos es algo que justamente ahora no necesitamos porque trabajamos con datos simulados, pero que suele ser común cuando operamos con datos experimentales. Esto es “homogeneizar” la variable independiente (en este caso, la temperatura). ¿Qué quiero decir con esto? En un caso real sería difícil realizar medidas siempre en las mismas temperaturas. En una medida haríamos una medición en 1.7 ºC, 22.5 ºC y 45.9 ºC, y en otra a 1.5 ºC, 25.0 ºC y 44.1 ºC. Pero para hacer la media, necesitamos que haya una medición (voltaje) en cada curva para cada temperatura. Por ello, lo que necesitaríamos hacer es obtener un valor de voltaje para las temperaturas 1.5 ºC, 1.7 ºC, 22.5 ºC, 25.0 ºC, 44.1 ºC y 45.9 ºC para cada uno de los sensores y curvas y, entonces, hacer la media para cada temperatura.&lt;/p&gt;
&lt;p&gt;Después, lo que haremos para obtener una medida que no tenemos de un sensor en una temperatura dada es obtenerla mediante interpolación de las dos temperaturas más cercanas.&lt;/p&gt;
&lt;p&gt;Vamos a ir paso a paso y vamos a empezar generando un vector con todas las temperaturas utilizadas en todas las mediciones/curvas.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;r&quot;&gt;&lt;pre class=&quot;language-r&quot;&gt;&lt;code class=&quot;language-r&quot;&gt;library&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ggplot2&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
library&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;dplyr&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;# Sensores/curvas. Tenemos 6.&lt;/span&gt;
sensors &lt;span class=&quot;token operator&quot;&gt;&amp;lt;-&lt;/span&gt; seq&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;# Obtenemos todas las temperaturas que se han utilizado durante las mediciones.&lt;/span&gt;
approxTemperature &lt;span class=&quot;token operator&quot;&gt;&amp;lt;-&lt;/span&gt; unique&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;df&lt;span class=&quot;token operator&quot;&gt;$&lt;/span&gt;Temperature&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;Aproximación de la variable dependiente&lt;/h3&gt;
&lt;p&gt;Ahora toca que, mediante interpolación, rellenemos esos espacios en blanco entre mediciones para que exista una medida (voltaje) para cada curva/sensor y temperatura.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;r&quot;&gt;&lt;pre class=&quot;language-r&quot;&gt;&lt;code class=&quot;language-r&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# Creamos una copia del DataFrame original, pero en blanco.&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;# Aqui guardaremos las aproximaciones/interpolaciones.&lt;/span&gt;
approxDf &lt;span class=&quot;token operator&quot;&gt;&amp;lt;-&lt;/span&gt; df&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;# Recorremos todas las curvas y &quot;rellenamos&quot; los datos blanco entre temperaturas.&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;n &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;length&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;sensors&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

		&lt;span class=&quot;token comment&quot;&gt;# Realizamos la interpolacion para el sensor/curva n.&lt;/span&gt;
    approxData &lt;span class=&quot;token operator&quot;&gt;&amp;lt;-&lt;/span&gt; data.frame&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
      with&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;subset&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;df&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Group&lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt;sensors&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;n&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
           approx&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
								x&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;Temperature&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
								y&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;Voltage&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
								xout &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; approxTemperature&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
								method &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;linear&quot;&lt;/span&gt;
						&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      method &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;approx()&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

		&lt;span class=&quot;token comment&quot;&gt;# Eliminamos una columna method que nos devuelve la funcion y que no queremos.&lt;/span&gt;
    approxData&lt;span class=&quot;token operator&quot;&gt;$&lt;/span&gt;method &lt;span class=&quot;token operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;NULL&lt;/span&gt;
		&lt;span class=&quot;token comment&quot;&gt;# Cambiamos los nombres por defecto de las columnas.&lt;/span&gt;
    names&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;approxData&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;names&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;approxData&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;x&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Temperature&quot;&lt;/span&gt;
    names&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;approxData&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;names&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;approxData&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;y&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Voltage&quot;&lt;/span&gt;

		&lt;span class=&quot;token comment&quot;&gt;# Añadimos el numero de curva/sensor.&lt;/span&gt;
    approxData&lt;span class=&quot;token operator&quot;&gt;$&lt;/span&gt;Group &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; sensors&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;n&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;

		&lt;span class=&quot;token comment&quot;&gt;# Incorporamos la aproximacion al nuevo DataFrame.&lt;/span&gt;
    approxDf &lt;span class=&quot;token operator&quot;&gt;&amp;lt;-&lt;/span&gt; rbind&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;approxDf&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; approxData&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;Promedio y desviación estándar&lt;/h3&gt;
&lt;p&gt;Finalmente, solo queda ir temperatura a temperatura y calcular el promedio y desviación estándar de todas las curvas/sensores.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;r&quot;&gt;&lt;pre class=&quot;language-r&quot;&gt;&lt;code class=&quot;language-r&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# Ahora si, calculamos el promedio y desviacion estandar punto a punto.&lt;/span&gt;
approxDf &lt;span class=&quot;token operator&quot;&gt;&amp;lt;-&lt;/span&gt; approxDf &lt;span class=&quot;token percent-operator operator&quot;&gt;%&gt;%&lt;/span&gt;
  group_by&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Temperature&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token percent-operator operator&quot;&gt;%&gt;%&lt;/span&gt;
  summarise&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;avgVoltage &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; mean&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Voltage&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; sdVoltage &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; sd&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Voltage&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token percent-operator operator&quot;&gt;%&gt;%&lt;/span&gt;
  arrange&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Temperature&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;Dibujando los resultados&lt;/h3&gt;
&lt;p&gt;Si dibujamos los resultados con el siguiente código, nos queda algo tal que así.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;r&quot;&gt;&lt;pre class=&quot;language-r&quot;&gt;&lt;code class=&quot;language-r&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# Finalmente, dibujamos los resultado.&lt;/span&gt;
transferFunction &lt;span class=&quot;token operator&quot;&gt;&amp;lt;-&lt;/span&gt;
  ggplot&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; approxDf&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; mapping &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; aes&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;Temperature&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; y&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;avgVoltage&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;
  labs&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    x &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Temperatura (ºC)&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    y &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Voltaje (V)&quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;
  geom_ribbon&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;aes&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ymin &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; avgVoltage &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; sdVoltage&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ymax &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; avgVoltage &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; sdVoltage&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; alpha&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;.2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; fill&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;skyblue1&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;
  geom_line&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

show&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;transferFunction&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 600px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/258b51e44e4e28dc8f9197f9b0565530/0a47e/funcion-de-transferencia-promedio.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 66.45569620253164%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAABXUlEQVQ4y42TCXOCMBCF/f8/r6cF0YZgArk8R6FYX2eXYxDUKTOPwLI8dr8lMwCoqgrGmBtZax/eF8bAOcvKC4OFWOMzkQhhgxkZlmXJL5CcczfrOO69Y6m8QLTK8L5IEQsFlRtst9up4T1RVd45Ns1UjnmSYr6UEJmGaT/irG0Mr9crdrsdJ3caVxS8h9IFomWKeCX5OgTP8WEnbEgnYjiuqDPTeWMUrVIonTfVuC7vthM2lFJODLv2GtgCmdKTasaMe8Pj8TgwNFyBVAXe4hSJWLcY2oqecLZjhp4r8IiExmucQheWOQ2ZjhmPY/2Uq7Jkg5c4w0eSwVrHbXcs/6vesP6psBAKX98NK04YMLpn/JBh9x/mhe05DndGM22PEEKLxU2edztos2l3ym/LkYzrumYdDgceFsXISGvNK8UvlwtomMN8uj+dTs1Qnh30MrVCX9/v9zifz0/z/wD/dda+Gd+DBQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Función de transferencia promedio&quot;
        title=&quot;Función de transferencia promedio&quot;
        src=&quot;/static/258b51e44e4e28dc8f9197f9b0565530/0a47e/funcion-de-transferencia-promedio.png&quot;
        srcset=&quot;/static/258b51e44e4e28dc8f9197f9b0565530/c26ae/funcion-de-transferencia-promedio.png 158w,
/static/258b51e44e4e28dc8f9197f9b0565530/6bdcf/funcion-de-transferencia-promedio.png 315w,
/static/258b51e44e4e28dc8f9197f9b0565530/0a47e/funcion-de-transferencia-promedio.png 600w&quot;
        sizes=&quot;(max-width: 600px) 100vw, 600px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;La línea negra corresponde a la función de transferencia promedio de nuestro sensor y el área en azul a su desviación estándar. Se espera que al realizar una medida con uno de estos sensores, se obtenga un resultado dentro del área azul con una probabilidad del 68.26% (1σ). Si quisiéramos utilizar un intervalo de mayor confianza (probabilidad del 95%), deberíamos de dibujar 1.96σ.&lt;/p&gt;
&lt;p&gt;Para poder ver una pequeña comparación entre el antes y el después, podemos dibujar encima las curvas de cada medición.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 600px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/c888438aeec7e4a71773190b40c1b00a/0a47e/funcion-de-transferencia-promedio-superpuesta.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 66.45569620253164%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAABe0lEQVQ4y41TiW6DMAzt///atq5TYdBSylEgEAi9T9q+yeYQ9Fwky7KTPD8/Jz0A2G63SNP03yalRJZlyFXGseMFMCYu5vM5egR4PB7vLtGFTq6KlSIghTiRGNku+toYA8PGxPGxWCxKwMPh8JZRDRRGApo5wbc2gmE5CCKBLCsLMeD1esVqtWJGtbUZ0sF5niMSMYaGhR99BNv1eY/ySimkaXmWAanv/X5/x4g8MRJxDM2wMNBMOJ7PhagI+fpcbQw4m83uNFTMLoM5cdAfmrAdj5nkzCaFfKRxDbjZbDqABOb6Ib60MfSRXemnOsyfWaPhcrnkNhIpoVsePoZj+EHEGrU1vdX4NtdMmRgGIsHn7xQDc4okSbi9d4weMiTA4nSE5YbQLb+qmDaTe9bqUw1LhgeEIkaSyA5A7Xkg1RNpT7ftyZqfcrlcWEdq/VQUKIoC6/WaY3r0BCSEYE/58/kMGibtFdV5ine7XTmUV4suUytUnT4AvdlX6w+9TNSi8dqTTgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Función de transferencia promedio superpuesta&quot;
        title=&quot;Función de transferencia promedio superpuesta&quot;
        src=&quot;/static/c888438aeec7e4a71773190b40c1b00a/0a47e/funcion-de-transferencia-promedio-superpuesta.png&quot;
        srcset=&quot;/static/c888438aeec7e4a71773190b40c1b00a/c26ae/funcion-de-transferencia-promedio-superpuesta.png 158w,
/static/c888438aeec7e4a71773190b40c1b00a/6bdcf/funcion-de-transferencia-promedio-superpuesta.png 315w,
/static/c888438aeec7e4a71773190b40c1b00a/0a47e/funcion-de-transferencia-promedio-superpuesta.png 600w&quot;
        sizes=&quot;(max-width: 600px) 100vw, 600px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h2&gt;Conclusiones&lt;/h2&gt;
&lt;p&gt;Hay otros &lt;em&gt;softwares&lt;/em&gt; que esto te lo hacen automáticamente o en un par de clics, pero cuando no dispones de estos &lt;em&gt;softwares&lt;/em&gt; (como es mi caso), toca hacerlo a mano. En esta entrada hemos visto cómo hacer el promedio de diferentes curvas de caracterización de un sensor, pero es extrapolable a curvas de diferente tipo. De este procesado, aparte de la media, también hemos calculado la desviación estándar. Finalmente, hemos acabado dibujando la curva promedio y el área/intervalo de confianza con un 68.26% de probabilidad o 1σ.&lt;/p&gt;
&lt;p&gt;Lo importante: aquí tenemos una chuleta de la que echar mano cuando tengamos que promediar curvas 🤣 ¡Nos vemos en la siguiente entrada!&lt;/p&gt;</content:encoded></item></channel></rss>